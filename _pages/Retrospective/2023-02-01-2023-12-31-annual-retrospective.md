---
title: "2023년 연간 회고록 (2023.02 ~ 2023.12)"
date: "2023-12-31"
tags: [회고, 플라잉닥터, 연간회고, 2023년결산]
bookmark: true
---

## 개요

2023년은 플라잉닥터 서비스의 **핵심 아키텍처 통합, 결제 시스템 전환, 신규 기능 개발**이 이루어진 해였습니다. 11개월간 **572개의 커밋**(서버+프론트 562개 + 플러터 10개)과 **382개의 이슈**를 처리하며, 서비스의 기반을 견고하게 다졌습니다.

### 2023년 핵심 키워드

- **🔗 통합**: 진료 시스템 통합, 병원 시간표 재설계
- **💳 전환**: 페이플 → 결제선생 결제 시스템 전면 교체
- **🚀 확장**: 바로접수, 공적처방전달 등 신규 기능

---

## 연간 통계 요약

| 항목 | 수치 |
|------|------|
| **기간** | 2023.02 ~ 2023.12 (11개월) |
| **총 커밋** | 572개 (서버+프론트 562 + 플러터 10) |
| **총 이슈** | 382개 |
| **월 평균 커밋** | 51개 |
| **월 평균 이슈** | 35개 |

### 월별 추이

| 월 | 커밋 | 이슈 | 주요 작업 |
|:--:|:----:|:----:|----------|
| 2월 | 48 | 8 | 의사 직위 기능, 약국 조제취소 |
| 3월 | 55 | 27 | **방문예약** 기능 신규 개발 |
| 4월 | 69 | 47 | 방문예약 안정화, 병원 검색 개편 |
| 5월 | 35 | 45 | CRM 카드, 병원 소식 고도화 |
| 6월 | 68 | 17 | **진료 통합** 대규모 리팩토링 |
| 7월 | 68 | 50 | **바로접수** 기능 개발 |
| 8월 | 102 | 38 | C.C 진료신청서, 병원 시간표 개선, 결제선생 앱 연동 |
| 9월 | 41 | 35 | **결제선생 전환** 착수, Nuxt3 착수 |
| 10월 | 32 | 21 | 결제선생 전면 도입, Flutter 운영 HOST 추가 |
| 11월 | 35 | 45 | 청구서 결제, **MySQL 8 업그레이드**, 앱카드 네이티브 연동 |
| 12월 | 19 | 49 | **공적처방전달**, DB 스키마 대정리, Flutter 청구서 연동 |

---

## 주요 프로젝트

### 🔗 아키텍처 통합

#### 진료 시스템 통합 (6월)

방문예약과 원격진료를 하나의 진료 시스템으로 통합하는 대규모 리팩토링을 수행했습니다.

- **방문예약 전용 테이블 제거** → 진료그룹 테이블로 통합
- **서비스/쿼리 통합**: 목적별 조건으로 분기 처리
- **UI 통합**: 진료카드, 상태 표시, 버튼 조건 통합

**성과**: 코드 중복 제거, 유지보수성 향상, 확장성 확보

#### 결제 시스템 전환 (9~12월)

기존 페이플에서 결제선생(Paymint)으로 결제 시스템을 전면 전환했습니다.

- **API 연동**: 가맹점 관리, 결제 카드 등록, Callback 처리
- **청구서 결제**: 진료와 결제 프로세스 분리 (하이패스 방식 지원)
- **정산 분리**: 페이플/결제선생 정산 구분 관리
- **Flutter 앱카드 연동**: Android/iOS 네이티브 앱카드 결제 연동 (11월)

---

### 🚀 신규 기능 개발

#### 방문 예약 (3월)

환자가 병원에 직접 방문하여 진료를 받을 수 있는 예약 시스템을 구축했습니다.

- 공휴일 API, 타임테이블 생성, 예약 충돌 방지
- 4월에 19개 이슈를 통한 집중 안정화

#### 바로접수 (7월)

병원 현장에서 QR 코드로 즉시 접수할 수 있는 기능을 개발했습니다.

- 대기 환자 수 실시간 카운팅 (WaitingCountService)
- 푸시 알림: 접수 완료, 대기 5명 이하 알림
- 20분 미접수 시 자동 취소 배치

#### 공적처방전달 (12월)

약국으로 처방전을 자동 전달하는 시스템을 구축했습니다.

- FAX, PBP(공적처방전달) 타입 지원
- 처방전 전달 알림 3종 추가

---

### 🛠 기술 부채 해소

#### MySQL 8 업그레이드 (11월)

- 쿼리 최적화, 윈도우 함수/CTE 사용 가능
- 보안 강화, JSON 함수 성능 개선

#### Nuxt3 마이그레이션 착수 (9월)

프론트엔드 프레임워크 업그레이드 작업에 착수했습니다.

#### 테스트 코드 도입 (8월~)

- 방문예약 시간표 추출 로직 테스트
- 병원 시간표 SUM 계산 테스트
- 관리자 로그인, 병원 생성 테스트

---

## 분기별 하이라이트

### Q1 (2~3월): 기반 구축

- **방문예약 기능 신규 개발** (33개 커밋 투입)
- 의사 직위 선택 기능 (전체 스택 16개 커밋)
- 진료 시간 테이블 마이그레이션

### Q2 (4~6월): 통합과 안정화

- 방문예약 안정화 (4월 19개 이슈)
- 병원 검색 전면 개편 (초성 검색, 즐겨찾기)
- **진료 시스템 통합** (6월 50개 커밋, 전체의 74%)

### Q3 (7~9월): 신규 기능 폭발

- **바로접수 기능 개발** (7월)
- **진료신청서 C.C 기능** (8월, 101개 커밋으로 최다)
- **병원 시간표 = 의사 스케줄 SUM** 방식 전환
- **결제선생 전환 착수** (9월)

### Q4 (10~12월): 안정화와 마무리

- **결제선생 전면 도입** (10월)
- **Flutter 앱카드 네이티브 연동** (11월, Android/iOS 5개 커밋)
- **청구서 결제 방식 추가** (11월)
- **MySQL 8 업그레이드** (11월)
- **공적처방전달 시스템** (12월)
- Flutter 청구서 URL 외부 브라우저 연동 (12월)
- 대규모 DB 스키마 정리 (12월 22개 이슈)

---

## 기술적 성장

### 아키텍처 설계 경험

- **진료 통합**: 두 개의 분리된 시스템을 하나로 통합하는 대규모 리팩토링
- **결제 시스템 전환**: 기존 데이터 호환성을 유지하며 새 시스템으로 전환
- **병원 시간표 재설계**: 의사 스케줄 기반 자동 계산 방식 도입

### 안정성 향상

- 테스트 코드 도입으로 핵심 비즈니스 로직 검증
- 결제 CALLBACK 오류 시 긴급 처리 로직 (상태 조회 후 INSERT)
- 배치 작업 @Async 적용으로 성능 향상

---

## 주요 인사이트

### 배운 점

1. **대규모 리팩토링은 장기 투자**: 진료 통합(6월)이 이후 바로접수(7월) 개발을 용이하게 함
2. **신규 기능 출시는 시작일 뿐**: 방문예약 출시 후 안정화에 47개 이슈 투입 (4월)
3. **결제 시스템은 신중하게**: 3개월(9~11월)에 걸친 점진적 전환으로 안정성 확보
4. **테스트 코드의 가치**: 8월 도입 후 병원 시간표 같은 복잡한 로직 검증에 활용

### 개선할 점

1. **프론트엔드 작업 비중**: 하반기(10~12월) 서버 중심 작업으로 FE 커밋 감소
2. **문서화**: 12월에서야 DB 문서 통합 정리 수행
3. **Nuxt3 마이그레이션**: 9월 착수했으나 연내 완료 못함

---

## 월별 회고록 링크

| 월 | 제목 | 링크 |
|:--:|------|------|
| 2월 | 월간 회고록 (2023.02) | [바로가기](./2023-02-01-2023-02-28-monthly-retrospective) |
| 3월 | 월간 회고록 (2023.03) | [바로가기](./2023-03-01-2023-03-31-monthly-retrospective) |
| 4월 | 월간 회고록 (2023.04) | [바로가기](./2023-04-01-2023-04-30-monthly-retrospective) |
| 5월 | 월간 회고록 (2023.05) | [바로가기](./2023-05-01-2023-05-31-monthly-retrospective) |
| 6월 | 월간 회고록 (2023.06) | [바로가기](./2023-06-01-2023-06-30-monthly-retrospective) |
| 7월 | 월간 회고록 (2023.07) | [바로가기](./2023-07-01-2023-07-31-monthly-retrospective) |
| 8월 | 월간 회고록 (2023.08) | [바로가기](./2023-08-01-2023-08-31-monthly-retrospective) |
| 9월 | 월간 회고록 (2023.09) | [바로가기](./2023-09-01-2023-09-30-monthly-retrospective) |
| 10월 | 월간 회고록 (2023.10) | [바로가기](./2023-10-01-2023-10-31-monthly-retrospective) |
| 11월 | 월간 회고록 (2023.11) | [바로가기](./2023-11-01-2023-11-30-monthly-retrospective) |
| 12월 | 월간 회고록 (2023.12) | [바로가기](./2023-12-01-2023-12-31-monthly-retrospective) |

---

## 마무리

2023년은 플라잉닥터 서비스가 **안정적이고 확장 가능한 플랫폼**으로 성장한 해였습니다. 진료 통합, 결제 시스템 전환, 바로접수/공적처방전달 등 핵심 기능을 구축하고, MySQL 8 업그레이드와 테스트 코드 도입으로 기술적 기반을 강화했습니다.

2024년에는 이 기반 위에서 Nuxt3 마이그레이션 완료, 공적처방전달 안정화, 청구서 결제 확대 등 더 많은 혁신을 이어갈 것입니다.

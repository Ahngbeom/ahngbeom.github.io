---
title: "월간 회고록 (2025.05.01 ~ 2025.05.31)"
date: "2025-05-31"
tags: [회고, 모비닥, 월간회고]
---

## 개요

2025년 5월 월간 회고록입니다. 이번 달에는 총 13개의 이슈를 처리했으며, 외부 API 연동, 본인인증 프로세스 개선, SEO 최적화 등 다양한 신규 기능 개발과 개선 작업을 진행했습니다. 특히 **YouTube API 연동**, **위뉴(weknew) 컨텐츠 서비스 연동**, **병원 홈페이지 SEO 메타데이터 관리** 등 플랫폼 확장성을 높이는 작업에 집중했습니다.

---

## 완료한 작업

### 새 기능 개발

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #1 | [환자] 유튜브 API 연동 작업 | Medium | YouTube Data API v3 연동 및 채널별 영상 관리 시스템 구축 |
| 이슈 #2 | [환자] 위뉴 연동 서버 API 작업 | Medium | 위뉴(weknew) 건강 컨텐츠 API 연동 및 fallback 메커니즘 구현 |
| 이슈 #3 | [병홈] 메타 태그 DB + API 작업 | Lowest | 병원 홈페이지 SEO 최적화를 위한 메타데이터 관리 시스템 |

#### 상세 내용

**YouTube API 연동 (이슈 #1)**
- YouTube Data API v3를 활용한 영상 정보 수집 시스템 구축
- 배치 작업을 통한 채널별 영상 자동 수집 (API 일일 제한 대응)
- 영상 임베드 가능 여부 필터링 (`videoEmbeddable` 옵션)
- 운영/개발 환경별 API Key 분리 관리
- 영상 목록 조회 API 최적화 및 문서화

**위뉴(weknew) API 연동 (이슈 #2)**
- 건강 컨텐츠 제공 업체 위뉴 API 통합
- Fallback 메커니즘: 위뉴 API 장애 시 예비 테이블에서 데이터 제공
- API 캡슐화를 통한 유지보수성 향상
- 운영/개발 환경별 기업 ID 분리

**병원 홈페이지 SEO 메타데이터 관리 (이슈 #3)**
- SEO 최적화를 위한 메타 태그 DB 저장 시스템
- 배포 없이 메타 태그 수정 가능한 유연성 확보
- Read API 구현 (Create/Update/Delete는 추후 작업 예정)
- Google Search Console API 연동 확장성 확보

### 기능 개선

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #4 | [환자] 본인인증을 통한 가족 환자 연결 프로세스 개선 | Medium | 가족 환자 데이터 연결 로직 개선 및 에러 처리 강화 |
| 이슈 #5 | [환자] 도착확인 시 예약 정보 표시 보완 | Medium | 환자 앱 도착 확인 시 예약 정보 표시 개선 |
| 이슈 #6 | [환자] 병원 찾기 - 병원 목록 추출 API 개선 | Highest | 병원 리스트 조회 쿼리 최적화 |
| 이슈 #7 | [환자] 태블릿 접수 완료 페이지 반영된 크기 개선 | Medium | 태블릿 환경에 맞는 UI 크기 조정 |

#### 상세 내용

**본인인증 가족 환자 연결 개선 (이슈 #4)**
- 연락처는 동일하지만 이름이 다른 가족 환자 데이터 연결 문제 해결
- 센트리(Sentry)를 통한 데이터 트랙킹 강화
- 에러 발생 시 APM에만 기록하고 클라이언트에는 에러 미전달
- 사용자 경험 저해 방지

**병원 찾기 API 개선 (이슈 #6)**
- `listHospitalOrderByOpen` 쿼리 최적화
- 병원 수 증가에 대비한 성능 개선
- Redis 캐싱 도입 검토
- 병원 정보 조회 API 분리 검토 (기본 정보 vs 부가 정보)

### 버그 수정

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #8 | [환자] 본인 인증 후 환자 연결 프로세스 API 오류 | Medium | Foreign Key 제약조건 위반 오류 수정 |
| 이슈 #9 | [환자] 본인 인증 시, 연결된 가족 환자의 번호도 업데이트 | Medium | 본인인증 후 가족 환자 연락처 동기화 |
| 이슈 #10 | [환자] 예약 도착확인 [비회원qr] 시도 시 연결안됨 | Medium | QR 도착확인 페이지 로드 에러 수정 |
| 이슈 #11 | [환자] 재진임에도 초진문진표가 표시되는 버그 | Medium | APP 예약 도착 확인 조건 수정 |

#### 상세 내용

**본인인증 API 오류 수정 (이슈 #8)**
- `hospital_patient` 테이블의 `patient_account_seq`가 null일 때 발생하는 Foreign Key 오류 해결
- `patient_account_seq`를 0으로 업데이트하려던 로직 수정
- 본인 환자 데이터 연결 프로세스 안정화

**가족 환자 연락처 업데이트 (이슈 #9)**
- 본인인증 후 회원가입(afterLogin) 프로세스 리팩토링
- `updateHospitalPatientMaster` 프로세스 수정
- 가족 환자 연결 쿼리 오류 수정
- Birth 정보 예외 처리 추가

**QR 도착확인 오류 수정 (이슈 #10)**
- QR 진료신청서 페이지 로드 에러 해결
- 예약이 있는 상태에서 QR 도착확인 시 접수가 안 되는 문제 수정

**초진문진표 표시 버그 (이슈 #11)**
- 비회원 진료 후 앱 설치 시 기존 진료와 연결 문제 해결
- APP 당일 예약 조회 조건 수정
- 비회원 & 예약 1건 케이스에 APP 환경 조건 추가

### 운영 지원 작업

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #12 | [환자] 테스트 자동화용 계정 생성 | Medium | QA 자동화를 위한 본인인증 생략 테스트 계정 |
| 이슈 #13 | [통합] 문진표 등록 버튼 주석처리 | Medium | 초진 문진표 등록 버튼 임시 숨김 처리 |
| Batch | 내일 기상 예보 조회 cron 수정 | - | 배치 작업 스케줄 조정 |

---

## 주요 성과 및 인사이트

### 1. 외부 API 연동 아키텍처 구축

**배경**: 모비닥 플랫폼에 외부 컨텐츠 제공 업체(YouTube, 위뉴) 연동 필요

**성과**:
- YouTube Data API v3 연동으로 건강 관련 영상 컨텐츠 자동 수집
- 위뉴 API 연동으로 전문 건강 컨텐츠 제공
- Fallback 메커니즘 구축로 서비스 안정성 확보
- API 캡슐화를 통한 유지보수성 향상

**학습 포인트**:
- 외부 API 일일 사용량 제한 대응 (배치 작업 활용)
- 장애 대응을 위한 Fallback 전략의 중요성
- 환경별(운영/개발) 설정 분리의 필요성

### 2. SEO 최적화 시스템 도입

**배경**: 병원 홈페이지의 메타 태그 수정을 위해 매번 배포가 필요한 비효율성

**성과**:
- 메타 태그 DB 관리 시스템 구축
- 배포 없이 SEO 설정 변경 가능
- Google Search Console API 연동 확장성 확보

**개선 효과**:
- 불필요한 배포 횟수 감소
- SEO 최적화 작업 민첩성 향상
- 추후 병원별 직접 수정 기능 추가 가능

### 3. 본인인증 프로세스 안정화

**배경**: 본인인증 후 환자 데이터 연결 과정에서 다양한 예외 케이스 발생

**성과**:
- Foreign Key 제약조건 오류 해결
- 가족 환자 연결 로직 개선
- 에러 처리 전략 개선 (APM 로깅 vs 클라이언트 에러)

**학습 포인트**:
- DB 제약조건을 고려한 로직 설계의 중요성
- 사용자 경험을 해치지 않는 에러 처리 전략
- 모니터링 도구(APM, Sentry) 활용한 디버깅

### 4. QA 자동화 인프라 구축

**배경**: 테스트 자동화를 위한 본인인증 생략 계정 필요

**성과**:
- 본인인증 없이 이름, 전화번호, 주민번호만으로 접속 가능한 테스트 계정 생성
- 기존 계정과 동일하게 동작하는 테스트 환경 제공

---

## 이슈별 주요 코멘트

이번 달에는 Jira 이슈에 특별한 댓글 기록이 없었습니다. 대부분 단독 작업으로 진행되었으며, 코드 리뷰는 별도 PR 과정에서 이루어졌습니다.

---

## 다음 달(6월) 계획

### 1. 외부 API 연동 고도화
- YouTube 채널 관리 기능 개선
- 위뉴 컨텐츠 예비 테이블 자동 업데이트 배치 작업

### 2. SEO 관리 시스템 완성
- Create/Update/Delete API 개발
- 관리자 페이지에서 메타 태그 수정 기능

### 3. 병원 찾기 성능 최적화
- Redis 캐싱 도입
- 병원 정보 API 분리 (기본 정보 vs 부가 정보)

### 4. 시스템 안정성 강화
- 본인인증 프로세스 모니터링 지속
- 예외 케이스 추가 발견 및 개선

---

## Git 커밋 통계

### 전체 요약

| 항목 | 수량 |
|------|------|
| 총 커밋 수 | 41개 (백엔드 27개 + 프론트엔드 14개) |
| 작업 레포지토리 | 2개 |
| 변경된 파일 | 300개 (백엔드 231개 + 프론트엔드 69개) |
| 추가된 라인 | +11,176 |
| 삭제된 라인 | -3,872 |
| 순증 | +7,304 라인 |

### 레포지토리별 커밋 통계

#### 백엔드 (mobidoc-server) - 27개 커밋

| 지표 | 값 |
|------|-----|
| 커밋 수 | 27개 |
| 변경 파일 | 231개 |
| 추가 라인 | +9,196 |
| 삭제 라인 | -3,488 |
| 순증 | +5,708 라인 |

**주요 커밋 내역:**
- `[이슈 #2]` 위뉴 API 연동 (5월 28-29일)
  - 위뉴 운영버전 기업 ID 추가
  - 위뉴 API 연동 및 fallback 메커니즘 구현
- `[이슈 #1]` YouTube Data API v3 연동 (5월 28-29일)
  - YouTube 영상 목록 조회 API 개발
  - 운영 & 개발 Key 분리
  - YouTube Data API v3 요청 최적화
  - videoEmbeddable 옵션 추가
  - API 문서 수정
- `[이슈 #4]` 본인인증 가족 환자 연결 프로세스 개선 (5월 27-28일)
  - 가족 환자 연결 로직 개선
  - Sentry 데이터 트랙킹 추가
- `[이슈 #3]` 병원 홈페이지 SEO 메타데이터 API (5월 13-15일)
  - SEO 메타데이터 조회 API 개발
  - Swagger API 문서 업데이트
  - 예외 처리 추가 (APM x, Slack x)
- `[이슈 #9]` 본인인증 프로세스 수정 (5월 13-16일)
  - 회원가입 afterLogin 프로세스 리팩토링
  - 가족 환자 연결 쿼리 오류 수정
  - updateHospitalPatientMaster 프로세스 수정
- `[이슈 #8]` 본인인증 API 오류 수정 (5월 16-19일)
  - Foreign Key 제약조건 위반 오류 해결
  - updateMaster birth 예외 추가

#### 프론트엔드 (mobidoc-front) - 14개 커밋

| 지표 | 값 |
|------|-----|
| 커밋 수 | 14개 |
| 변경 파일 | 69개 |
| 추가 라인 | +1,980 |
| 삭제 라인 | -384 |
| 순증 | +1,596 라인 |

**주요 커밋 내역:**
- `[이슈 #11]` 예약 도착 확인 비회원 케이스 개선 (5월 28-30일)
  - APP 환경 조건 추가
  - APP 당일 예약 조회 조건 수정
- `[이슈 #1]` 병원 유튜브 채널 관리 (5월 28일)
  - 관리자 페이지에서 YouTube 채널 관리 기능
- `[이슈 #4]` 본인인증 프로세스 센트리 트랙킹 (5월 27-28일)
- `[이슈 #13]` 초진 문진표 등록 버튼 숨김 처리 (5월 22일)
- `[이슈 #3]` 병원 홈페이지 SEO 메타데이터 API (5월 14-16일)
  - 병원 상세 페이지 이동 처리
- `[이슈 #7]` 태블릿 진료신청서 접수 완료 페이지 크기 수정 (5월 15일)
- `[이슈 #10]` QR 진료신청서 페이지 로드 에러 수정 (5월 14일)
- `[이슈 #9]` 회원가입 afterLogin 프로세스 수정 (5월 15일)
- `[이슈 #12]` 테스터 로그인 API 수정 (5월 13일)
- `[이슈 #5]` APP & QR 예약 도착 확인 완료 페이지 통합 (5월 7일)

### 커밋 유형별 분류

| 유형 | 수량 | 비율 | 주요 내용 |
|------|------|------|-----------|
| feature (새 기능) | 8개 | 18.6% | YouTube/위뉴 API 연동, SEO 메타데이터 |
| fix (버그 수정) | 18개 | 41.9% | 본인인증 오류, QR 도착확인, 초진문진표 표시 |
| docs (문서화) | 2개 | 4.7% | API 문서, Swagger 업데이트 |
| refactor (리팩토링) | 3개 | 7.0% | 본인인증 프로세스 리팩토링 |
| chore (기타) | 2개 | 4.7% | cron 수정, 설정 변경 |
| 기타 | 10개 | 23.3% | 코드 정리, 예외 처리 |

### 일별 커밋 활동 분포

```
2025-05-07 (수): ████ 2
2025-05-13 (화): ████████████████ 6
2025-05-14 (수): ██████ 3
2025-05-15 (목): ████████ 4
2025-05-16 (금): ██████ 3
2025-05-19 (월): ████ 2
2025-05-22 (목): ██ 1
2025-05-23 (금): ██ 1
2025-05-27 (화): ████ 2
2025-05-28 (수): ████████████████████ 10
2025-05-29 (목): ██████████████████ 9
2025-05-30 (금): ██ 1
```

**활동 패턴 분석:**
- 가장 활발한 주: 5월 마지막 주 (27-30일) - 22개 커밋
- 가장 활발한 일: 5월 28일 - 10개 커밋
- 주 중 활동: 수요일-목요일에 집중 (총 19개 커밋)
- 5월 중순(13-16일)에도 활발한 작업 진행 (16개 커밋)

### 주요 변경 파일 TOP 5

#### 백엔드
1. YouTube API 관련 파일 - 7회 (YouTube Data API 연동)
2. 위뉴 API 관련 파일 - 4회 (Weknew API 연동)
3. `HospitalPatientCouplingMapper.xml` - 4회 (본인인증 프로세스)
4. SEO 메타데이터 관련 파일 - 3회
5. 병원 리스트 조회 쿼리 - 2회

#### 프론트엔드
1. `[seq].vue` - 2회 (도착확인 완료 페이지)
2. YouTube 채널 관리 컴포넌트 - 2회
3. 본인인증 관련 컴포넌트 - 2회
4. SEO 메타데이터 처리 - 2회
5. 테스터 로그인 페이지 - 1회

---

## Jira 이슈 통계

- **총 이슈 수**: 13개
- **완료**: 11개 (84.6%)
- **모니터링**: 2개 (15.4%)

### 유형별 분포

| 유형 | 개수 |
|------|------|
| 새 기능 | 3개 |
| 개선 | 5개 |
| 버그 | 4개 |
| 작업 | 2개 |

### 우선순위별 분포

| 우선순위 | 개수 |
|----------|------|
| Highest | 1개 |
| Medium | 11개 |
| Lowest | 1개 |

---

## 회고

### 좋았던 점
- **외부 API 연동 성공**: YouTube, 위뉴 등 외부 플랫폼과의 연동으로 컨텐츠 확장성 확보
- **안정성 향상**: Fallback 메커니즘, 에러 처리 개선으로 서비스 안정성 강화
- **SEO 시스템 구축**: 배포 없이 메타 태그 수정 가능한 유연한 구조 확립
- **월간 생산성**: 47개 커밋으로 7,304라인의 순증 코드 작성
  - 일평균 약 2.0개 커밋 (영업일 기준)
  - 백엔드에서 특히 높은 생산성 (+5,708라인)
- **외부 API 통합 경험**: YouTube Data API, 위뉴 API 연동을 통한 통합 역량 강화

### 개선할 점
- **커밋 집중도**: 5월 28일에 10개 커밋이 집중됨
  - 작업을 더 고르게 분산하면 코드 리뷰 품질 향상 가능
- **문서화 비율**: 전체 커밋의 4.7%만 문서화 작업
  - 외부 API 연동 등 중요한 기능에 대한 문서화 부족
  - 아키텍처 다이어그램, 통합 가이드 추가 필요
- **버그 비율**: Fix 커밋이 41.9%로 높은 비율
  - 본인인증 프로세스의 예외 케이스를 사전에 더 면밀히 검토 필요
  - 테스트 커버리지 강화 필요

### 학습
- **외부 API 통합 베스트 프랙티스**:
  - API 사용량 제한 대응 (배치 작업, 캐싱)
  - Fallback 메커니즘의 중요성
  - 환경별 설정 분리 관리
- **SEO 최적화 시스템 설계**:
  - DB 기반 메타 태그 관리의 장점
  - 배포 독립성 확보의 가치
- **본인인증 프로세스의 복잡성**:
  - DB 제약조건을 고려한 로직 설계
  - 가족 환자 연결의 다양한 예외 케이스
  - 에러 처리 전략 (사용자 경험 vs 모니터링)
- **API 캡슐화의 가치**:
  - 외부 API 변경사항을 내부에서만 처리
  - 프론트엔드에 일관된 인터페이스 제공
- **모니터링 도구 활용**:
  - APM, Sentry를 통한 실시간 에러 트랙킹
  - 사용자 영향 없이 내부 문제 파악

### 다음 달 목표
- **API 연동 고도화**: YouTube 채널 관리 개선, 위뉴 컨텐츠 자동 업데이트
- **SEO 시스템 완성**: CRUD API 전체 구현 및 관리자 UI 개발
- **성능 최적화**: 병원 찾기 API Redis 캐싱 적용
- **테스트 강화**: 본인인증 프로세스 예외 케이스 테스트 추가
- **문서화 개선**: 외부 API 연동 가이드, 아키텍처 문서 작성

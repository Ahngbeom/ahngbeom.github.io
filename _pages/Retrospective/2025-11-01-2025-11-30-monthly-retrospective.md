---
title: "월간 회고록 (2025.11.01 ~ 2025.11.30)"
date: "2025-11-30"
tags: [회고, 모비닥, 월간회고]
---

## 개요

2025년 11월 월간 회고록입니다. 이번 달에는 총 7개의 이슈를 처리했습니다. 모비닥 프로젝트에서 **개인정보 보호 강화**를 중심으로 한 다양한 기능 개선과 버그 수정 작업을 진행했습니다. 특히 QR 진료신청서, 태블릿 진료신청, 병원 홈페이지 예약 시스템의 보안 및 개인정보 보호 기능 강화에 집중했습니다.

---

## 완료한 작업

### 기능 개선

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #1 | [태블릿] 태블릿 진료 신청 개인정보보호 강화 | Medium | 토큰 기반 인증 도입으로 휴대폰 번호만으로 개인정보 접근 방지 |
| 이슈 #2 | [병홈] 진료 예약 - 개인 정보 보호 개선 | Medium | 병원 홈페이지 진료 예약 시스템의 보안 강화 |
| 이슈 #3 | [환자] QR 비회원 웹 진료 신청서 - 본인 인증 도입 | Medium | QR 코드를 통한 비회원 진료신청 시 휴대폰 번호 기반 인증 시스템 도입 |
| 이슈 #4 | [환자][병홈] 2025.10.22 운영 배포 후, 힙 메모리 누수 현상 개선 | Medium | 메모리 누수 현상 분석 및 최적화 작업 |

#### 상세 내용

**태블릿 진료 신청 개인정보보호 강화 (이슈 #1)**
- 통합 클라이언트 ID, PW를 통한 토큰 기반 인증 시스템 도입
- 토큰 발급으로 휴대폰 번호만으로는 개인정보 접근 불가능
- 인증 성공 계정의 로컬 스토리지 저장으로 자동 완성 기능 구현
- 기존 비회원 진료 신청 API에서 환자 생성/수정, 진료 생성, 초진문진표 등록, 약관 동의 이력을 하나의 API에서 처리하던 방식 개선
- 기능별로 독립적인 API로 분리하여 유지보수성 개선

**QR 비회원 웹 진료 신청서 - 본인 인증 도입 (이슈 #3)**
- 기존 휴대폰 번호만 입력하는 방식에서 휴대폰 번호 기반 인증 추가
- 홈페이지 예약 시스템과의 통합으로 보안 강화

### 버그 수정

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #5 | [환자] 태블릿, QR 진료신청서 - 연락처를 통해 조회된 환자 수가 1명일 때 자동 체크 기능이 동작 안함 | Medium | 환자 조회 결과 1명일 때의 자동 선택 기능 구현 |
| 이슈 #6 | [환자] 진료신청서 - 환자 조회 시, display_yn 조건 누락 | Medium | 환자 조회 쿼리에서 display_yn 조건 누락으로 인한 비활성 환자 표시 버그 수정 |

#### 상세 내용

**태블릿/QR 진료신청서 자동 체크 기능 개선 (이슈 #5)**
- 연락처 입력 후 환자 조회 시, 조회된 환자가 1명일 때 자동 선택 기능 추가
- 환자 선택 페이지에서 가족 환자 추가 시, 추가된 가족 환자 자동 선택 기능 추가
- 환자 정보 입력 UX 개선
  - 주민등록번호 뒷자리 입력 후 자동으로 숫자 키패드가 내려가던 현상 수정
  - 포커스 아웃될 때만 숫자 키패드 닫히도록 개선

**환자 조회 display_yn 조건 추가 (이슈 #6)**
- 비활성화된 환자가 조회 결과에 포함되는 문제 수정
- 쿼리에 display_yn = 'Y' 조건 추가

### 운영 지원 작업

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #7 | [통합] A병원 환자 업로드 | Medium | A병원의 환자 데이터 마이그레이션 |

#### 상세 내용

**A병원 환자 업로드 (이슈 #7)**
- 병원에서 제공한 환자 엑셀 파일 기반 데이터 마이그레이션
- 9,467명 환자 데이터 삽입 성공
- 137명 환자 데이터 삽입 실패 (전화번호 형식 이상)
- 주민등록번호 뒷자리 없이 재진 접수까지 가능하도록 업로드 처리

---

## 주요 성과 및 인사이트

### 1. 개인정보 보호 컴플라이언스 강화
**배경**: 최근 개인정보 보호 규제 강화로 휴대폰 번호만으로 개인정보에 접근 가능한 부분이 보안 위험으로 대두됨

**성과**:
- 3가지 채널(QR, 태블릿, 병홈)의 진료신청 시스템 전반에 걸쳐 토큰 기반 인증 도입
- 사용자 본인 인증 없이 개인정보 열람 불가능하도록 체계 개선
- 개인정보 보호 컴플라이언스 강화

**학습 포인트**:
- 사용자 경험과 보안의 균형 필요
- 여러 채널(QR, 태블릿, 홈페이지)에서 일관된 인증 정책 유지의 중요성

### 2. API 설계 개선으로 유지보수성 향상
**배경**: 기존 하나의 API에서 여러 비즈니스 로직(환자 생성, 진료 생성, 문진표 등록 등)을 처리하여 유지보수 및 테스트가 어려움

**성과**:
- 태블릿 진료 신청 API를 기능별 독립적 API로 분리
- 각 API의 책임을 명확히 하여 테스트 용이성 증대
- 모놀리식 API에서 마이크로서비스 원칙 적용

**개선 효과**:
- 버그 추적 및 수정 시간 단축
- 새로운 기능 추가 시 기존 로직 영향 최소화

### 3. UX 개선
**개선 사항**:
- 주민등록번호 입력 후 키패드 자동 숨김 제거로 사용자 편의성 향상
- 환자 조회 결과 1명일 때 자동 선택으로 불필요한 클릭 감소
- 포커스 아웃 시에만 키패드 숨김으로 키보드 조작 중 방해 최소화

### 4. 메모리 누수 해결
- 배포 후 발생한 메모리 누수 현상을 신속하게 파악하고 개선
- 시스템 안정성 강화

---

## 이슈별 댓글 요약

### 이슈 #3 (QR 본인 인증 도입)
- **디자이너**: 추후 개선 참고용 피드백 제공
  - 인증번호 전송 시점에 인증번호 인풋필드 포커스 + 키보드 노출
  - 인증번호 입력 이후 "다음" 버튼 누르지 않고 다음으로 진행하는 플로우 검토

### 이슈 #7 (A병원 환자 업로드)
- **개발자**: 9,467명 환자 데이터 삽입 성공, 137명 실패 (전화번호 형식 이상). visit = 'REVISIT' 업데이트 완료

---

## 다음 달(12월) 계획

### 1. 상품 관리 시스템 개발
- Phase 1: 기본 상품 관리 및 구독 시스템 개선
- Phase 2: 추가 기능 개발
- Phase 3: 결제 시스템 유연화

### 2. 시스템 안정성 강화
- 메모리 누수 모니터링 지속
- 성능 최적화 작업

### 3. 기술 부채 정리
- 레거시 코드 리팩토링
- 테스트 커버리지 개선

---

## Git 커밋 통계

### 전체 요약

| 항목 | 수량 |
|------|------|
| 총 커밋 수 | 29개 (백엔드 17개 + 프론트엔드 12개) |
| 작업 레포지토리 | 2개 |
| 변경된 파일 | 312개 (백엔드 207개 + 프론트엔드 105개) |
| 추가된 라인 | +36,070 |
| 삭제된 라인 | -2,864 |
| 순증 | +33,206 라인 |

### 레포지토리별 커밋 통계

#### 백엔드 (mobidoc-server) - 17개 커밋

| 지표 | 값 |
|------|-----|
| 커밋 수 | 17개 |
| 변경 파일 | 207개 |
| 추가 라인 | +17,021 |
| 삭제 라인 | -2,246 |
| 순증 | +14,775 라인 |

**주요 커밋 내역:**
- `[이슈 #8]` 포인트 충전 결제 서비스 개발 (11월 25-28일)
  - 모비닥 CRM 포인트 충전 상품 결제 서비스 신규 개발
  - Paymint 결제 시스템 통합 및 동기화 처리
  - 결제 수단 soft delete, 카드 동기화 로직 개선
  - Elastic logging 추가 및 테스트 코드 작성
- `[이슈 #9]` QR & 태블릿 진료신청서 기능 개선 (11월 12-13일)
  - 당일 가예약 조회 API 추가
  - App 예약 도착 확인 완료 결과 데이터 예외처리 보완
- `[이슈 #6]` 진료 신청서 환자 조회 조건 추가 (11월 6일)
  - display_yn = 'Y' 조건 추가로 비활성 환자 제외
- 문서화 작업 (11월 13일)
  - 비회원 진료 신청 아키텍쳐 & 테스트 문서 추가

#### 프론트엔드 (mobidoc-front) - 12개 커밋

| 지표 | 값 |
|------|-----|
| 커밋 수 | 12개 |
| 변경 파일 | 105개 |
| 추가 라인 | +19,049 |
| 삭제 라인 | -618 |
| 순증 | +18,431 라인 |

**주요 커밋 내역:**
- `[이슈 #8]` 포인트 충전 결제 UI 개발 (11월 25-27일)
  - 모비닥 CRM 포인트 충전 상품 결제 화면
  - 결제 카드 동기화 처리 수정
  - 080 수신거부 번호 관리 결제 라우팅 개선
- `[환자]` APM RUM 환경 구성 (11월 18-19일)
  - 프로덕션 환경 Application Performance Monitoring 추가
  - 실시간 사용자 모니터링 시스템 구축
- `[이슈 #9]` QR & 태블릿 진료신청서 UX 개선 (11월 12-13일)
  - 도착 확인 완료 페이지 리다이렉트 방식 수정
  - 당일 가예약 조회 및 도착 확인 프로세스 개선
- Claude 플러그인 개발 환경 구축 (11월 11-12일)
  - 모비닥 Claude plugin 마켓플레이스 생성
  - i18n 자동화 플러그인 추가
- 태블릿 진료신청서 버그 수정 (11월 4일)
  - 다음날 접수 마감 알림 오작동 현상 해결

### 커밋 유형별 분류

| 유형 | 수량 | 비율 | 주요 내용 |
|------|------|------|-----------|
| feature | 4개 | 13.8% | 포인트 충전 결제 시스템, APM 모니터링 |
| fix | 13개 | 44.8% | 결제 동기화, 진료신청서 버그 수정, UX 개선 |
| docs | 3개 | 10.3% | 아키텍쳐 문서, API 테스트 문서 |
| chore | 3개 | 10.3% | .gitignore 설정, Claude 플러그인 |
| 기타 | 6개 | 20.7% | 설정 변경, 환경 구성 |

### 일별 커밋 활동 분포

```
2025-11-04 (월): ████ 1
2025-11-06 (수): ████ 1
2025-11-11 (월): ████ 1
2025-11-12 (화): ████████████████████████ 6
2025-11-13 (수): ████████████████████ 5
2025-11-18 (월): ████ 1
2025-11-19 (화): ████ 1
2025-11-25 (월): ████████ 2
2025-11-26 (화): ████████████████████████ 6
2025-11-27 (수): ████████████████████████ 6
2025-11-28 (목): ████ 1
```

**활동 패턴 분석:**
- 가장 활발한 주: 11월 4주차 (25-28일) - 15개 커밋
- 가장 활발한 일: 11월 12일, 26일, 27일 - 각 6개 커밋
- 주 중 활동: 화요일-수요일에 집중 (총 17개 커밋)

### 주요 변경 파일 TOP 5

#### 백엔드
1. `PaymintAdapter.java` - 5회 (결제 어댑터 핵심 로직)
2. `CreditFacadeService.java` - 3회 (신용카드 파사드)
3. `MobidocProductFacadeService.java` - 3회 (상품 서비스)
4. `HospitalCreditCardService.java` - 3회 (병원 카드 관리)
5. `PaymentCallbackHandler.java` - 3회 (결제 콜백 처리)

#### 프론트엔드
1. `[seq].vue` - 2회 (진료신청 완료 페이지)
2. `CreditCardSection.vue` - 2회 (카드 결제 섹션)
3. `PointHistoryModal.vue` - 2회 (포인트 내역 모달)
4. `tabletConsultRequest.ts` - 2회 (태블릿 진료신청 로직)
5. `package.json` - 2회 (의존성 관리)

---

## Jira 이슈 통계

- **총 이슈 수**: 7개
- **완료**: 7개 (100%)

### 유형별 분포

| 유형 | 개수 |
|------|------|
| 개선 | 4개 |
| 버그 | 2개 |
| 작업 | 1개 |

### 우선순위별 분포
| 우선순위 | 개수 |
|----------|------|
| Medium | 7개 |

---

## 회고

### 좋았던 점
- 개인정보 보호라는 명확한 목표 하에 체계적으로 진행됨
- 여러 채널의 보안을 동시에 강화하여 일관성 있는 사용자 경험 제공
- 운영 지원(데이터 마이그레이션) 업무도 신속하게 처리
- **월간 생산성 향상**: 29개 커밋으로 33,206라인의 순증 코드 작성
  - 일평균 약 1.4개 커밋, 하루 평균 1,583라인 작성
  - 프론트엔드에서 특히 높은 생산성 (+18,431라인)
- **결제 시스템 대규모 개발**: 이슈 #8로 포인트 충전 결제 시스템 전체 구축
  - 백엔드/프론트엔드 통합 작업으로 약 15개 커밋 투입
  - Paymint 연동, 동기화 처리, UI 구현까지 완성도 높은 개발

### 개선할 점
- 버그 이슈(display_yn 누락)의 경우 더 일찍 발견했으면 좋았을 것
- 자동 체크 기능의 요구사항 분석을 더 상세히 했으면 초기 구현 시 포함 가능했을 것
- **커밋 분산**: 11월 12일, 26일, 27일에 커밋이 집중됨 (각 6개)
  - 작업을 더 고르게 분산하면 코드 리뷰 품질 향상 가능
  - 한 번에 많은 변경사항이 들어가면 디버깅 난이도 증가
- **문서화 비율**: 전체 커밋의 10.3%만 문서화 작업
  - 대규모 기능 개발(결제 시스템) 대비 문서화 부족
  - API 문서, 아키텍쳐 다이어그램 추가 필요

### 학습
- 개인정보 보호는 단순 기술 문제가 아닌 법적/윤리적 책임
- API 설계 개선이 장기적으로 개발 생산성에 미치는 긍정적 영향
- UX 개선의 가치는 사용자 만족도뿐만 아니라 버그 감소에도 영향
- **코드 증가 패턴 분석**:
  - Fix 커밋이 44.8%로 가장 높은 비율 차지
  - Feature 개발(13.8%)보다 버그 수정에 더 많은 시간 투입
  - 향후 초기 설계와 테스트 강화로 fix 비율 감소 목표
- **APM 도입의 중요성**:
  - 프로덕션 환경 모니터링 시스템 구축으로 장애 대응 능력 강화
  - 실시간 사용자 행동 추적으로 UX 개선 데이터 확보 가능
- **결제 시스템 통합 경험**:
  - 외부 PG사(Paymint) 연동 시 동기화 처리의 중요성 학습
  - Callback 처리, 상태 관리, 예외 처리 등 결제 도메인 전문성 향상

---
title: "월간 회고록 (2025.12.01 ~ 2025.12.31)"
date: "2025-12-31"
tags: [회고, 모비닥, 월간회고]
---

## 개요

2025년 12월 한 달간의 회고록입니다. 연말을 맞아 데이터 정리 작업과 버그 수정, 그리고 병원 홈페이지 구독 서비스라는 주요 신규 기능을 개발한 달이었습니다. 총 13개의 이슈를 처리했으며, 캐싱 전략 개선과 SaaS 비즈니스 모델 구축 등 의미있는 성과를 달성했습니다.

---

## 완료한 작업

### 버그 수정

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #1 | [통합] 모비닥 CRM 포인트 충전 > 등록한 결제수단 삭제가 안됨 | Medium | CRM 결제수단 삭제 기능 수정 |
| 이슈 #2 | [환자] QR & 태블릿 진료신청서 - 당일 가예약 도착확인할 수 없음 | Medium | 가예약 환자 도착 확인 플로우 수정 |
| 이슈 #3 | [통합] 환자 상세에서 가족 환자의 진료가 같이 표시됨 | Medium | 가예약과 일반예약 환자가 함께 도착 확인 시 데이터 혼재 문제 해결 |
| 이슈 #4 | [통합] 환자 상세 - DB 중복 진료 | Medium | 2023-11-16 ~ 2024-04-25 기간 발생한 중복 초진문진표 데이터 정리 |
| 이슈 #5 | [Batch] 예약 확정 진료 노쇼 시, 관리자 취소 버그 수정 | Medium | 자정(00:00/24:00) 시간 처리 예외 케이스 해결 |
| 이슈 #6 | [환자][태블릿] 태블릿 진료신청서 접수 마감 알림 현상 | Medium | 캐싱된 병원 운영시간 정보 관련 버그 수정 |
| 이슈 #7 | [병홈] 홈페이지로 예약 시 통합에서 초진아이콘 등장 | Medium | 홈페이지 예약 시 초진 아이콘 표시 오류 분석 필요 |

### 기능 개선

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #8 | [환자] 본인인증을 통한 가족 환자 연결 프로세스 개선 | Medium | 연락처는 동일하지만 이름이 다른 가족 환자 데이터 연결 프로세스 개선 |

### 새 기능 개발

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #9 | [관리자][통합] 모비닥 병원 홈페이지 구독 서비스 | Medium | 병원 홈페이지 SaaS 구독 시스템 전체 구현 |

#### 이슈 #9 상세 내용

병원 홈페이지 구독 서비스의 전체 사용자 플로우를 구현했습니다:

**1. 구독 신청 기능**
- 플랜 선택 (월간/연간 구독)
- 결제수단 등록 (SMS 링크를 통한 카드 등록)
- 결제 정보 확인 및 구독 완료

**2. 구독 관리 기능**
- 현재 구독 상태 확인 (이용 중, 무료 체험, 해지 대기 등)
- 결제 정보 조회 (결제 금액, 마지막 결제일, 다음 결제일)
- 무료 체험 진행 상황 표시
- 결제수단 변경/삭제

**3. 구독 해지 기능**
- 해지 신청 및 사유 선택
- 관리자 검토 → 승인 프로세스
- 해지 후에도 결제 기간까지 서비스 이용 가능

**4. 결제 내역 기능**
- 결제일, 금액, 상태, 결제수단 조회

### 운영 지원 작업

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #10 | [환자] C사 KB 제외 적용 | Medium | C사 결제 수단에서 KB 카드 제외 처리 (12.22 자정부터 적용) |
| 이슈 #11 | [통합] B의원 환자명단 업로드 작업 | Medium | B의원 예약현황판 사용을 위한 환자 데이터 마이그레이션 |
| 이슈 #12 | [환자] 테스트 자동화용 계정 생성 | Medium | 본인인증 없이 테스트 계정 접속 기능 |
| 이슈 #13 | [Batch] 모비닥 앱 처방 알림 전송 프로세스 작업 | Medium | 처방 알림 전송 배치 프로세스 개발 |

---

## 주요 성과 및 인사이트

### 1. SaaS 비즈니스 모델 기반 구축 (이슈 #9)
- 병원 홈페이지 구독 서비스로 반복 수익(Recurring Revenue) 모델 구현
- 월간/연간 플랜으로 유연한 가격 정책 제공
- 무료 체험 기간을 통한 고객 전환 유도
- SMS 링크를 통한 안전한 카드 등록 프로세스
- 구독에 사용 중인 카드 보호 (삭제 방지)
- 해지 후에도 결제 기간까지 서비스 이용 가능
- 관리자 검토를 통한 해지 사유 수집 (서비스 개선 피드백)

### 2. 캐싱 전략 개선 (이슈 #6)
- 태블릿 진료신청서의 병원 운영시간 캐싱 문제 해결
- **원인**: 캐싱된 병원 운영시간 정보를 다음날에도 재활용하면서 발생
- **해결**: 병원 운영 시간 정보 캐시 데이터 유효시간을 5분으로 설정, 진료 접수 버튼 클릭 시 날짜 비교하여 최신 데이터로 갱신

### 3. 진료 신청 플로우 테스트 시나리오 정립 (이슈 #2)
- QR/태블릿 진료 신청서의 3가지 케이스별 플로우 문서화:
  1. **가예약 케이스**: 통합에서 가예약 생성 → 환자가 연락처 입력 → 가예약 진료 조회 → 환자 정보 입력 → 증상 입력 → 접수 완료
  2. **예약 케이스**: 통합에서 진료 예약 생성 → 환자가 연락처 입력 → 예약 진료 조회 → 접수 완료
  3. **신규 접수**: 가예약/예약 없음 → 환자가 연락처 입력 → 신규 환자 페이지로 리다이렉트

### 4. 가예약/일반예약 환자 도착 확인 로직 개선 (이슈 #3)
- 가예약 진료와 일반 예약 진료가 동시에 존재할 때 발생하던 데이터 혼재 문제 해결
- 도착 확인 시 가예약 진료만 Request Body에 담아서 전달되도록 수정
- 가예약 진료가 포함된 경우 가예약 진료만 선택 가능하도록 방어 로직 추가

### 5. DB 중복 데이터 정리 (이슈 #4)
- 과거 기간(2023-11-16 ~ 2024-04-25) 발생한 중복 초진문진표 데이터 발견 및 정리
- 백업 후 중복 데이터 삭제 처리 완료
- 현재는 발생하지 않는 현상임을 확인

### 6. 시간 처리 예외 케이스 대응 (이슈 #5)
- 자정(00:00 vs 24:00) 시간 표현 차이로 인한 배치 작업 오류 해결
- 이전 날짜 예약 건까지 탐색하도록 로직 개선

### 7. 가족 환자 연결 프로세스 개선 (이슈 #8)
- 연락처는 동일하지만 이름이 다른 가족 환자 데이터와의 연결 과정 정상화
- 에러 발생 시 APM에만 기록하고, 클라이언트 단에게는 에러를 전달하지 않도록 개선

---

## 이슈별 댓글 요약

### 이슈 #3 (가족 환자 진료 표시 버그)
- **개발자**: 버그 케이스 및 원인 분석 상세 정리. 가예약+일반예약 동시 도착 확인 시 초진문진표가 잘못 연결되는 문제 발견
- **개발자**: 이슈 #4와 별개의 버그 케이스임을 명시
- **PM**: 가예약 환자 정보가 환자 상세에 표시되지 않음 확인. 실제 prod에서 거의 발생하지 않는 이슈로 우선 방어 처리

### 이슈 #4 (DB 중복 진료)
- **개발자**: 2023-11-16 ~ 2024-04-25 동안 하나의 진료에 초진문진표가 2개씩 생성되는 버그가 있었음을 확인. 백업 후 제거 작업 진행

### 이슈 #9 (병원 홈페이지 구독 서비스)
- **자동화 시스템**: STAG병합 → STAG반영 상태 변경
- **PM**: 플랜 선택 화면에서 '+ 부가세 0000원' 내용 삭제 요청. 일반적으로 없는 표시 방식이므로 제거

### 이슈 #11 (B의원 환자 업로드)
- **개발자**: 엑셀 파일 전화번호 데이터 형식 이슈 발견 (숫자 형태로 저장). 환자 정보 보정 과정 예외 케이스 감지 개선 필요

---

## 2026년 1월 계획

1. **헬스 데이터 연동 고도화**: Apple Health & Samsung Health 확장 데이터 지원 완료
2. **CRM 포인트 서비스 안정화**: 신규 출시 기능 모니터링 및 이슈 대응
3. **상품 관리 시스템 개발**: 구독 관리 페이지 UI 및 백엔드 구현
4. **QA 및 안정화**: 12월 배포된 기능들에 대한 모니터링 및 이슈 대응

---

## 통계

### Jira 이슈 통계

- **총 이슈 수**: 13개
- **완료**: 11개 (84.6%)
- **모니터링**: 1개 (7.7%)
- **해야 할 일**: 1개 (7.7%)

#### 유형별 분포

| 유형 | 개수 |
|------|------|
| 버그 | 7개 |
| 개선 | 1개 |
| 새 기능 | 1개 |
| 작업 | 4개 |

#### 우선순위별 분포

| 우선순위 | 개수 |
|----------|------|
| Medium | 13개 |

---

### Git 커밋 통계

#### 전체 요약

| 항목 | 백엔드 (mobidoc-server) | 프론트엔드 (mobidoc-front) | 합계 |
|------|------------------------|---------------------------|------|
| 총 커밋 수 | 23개 | 24개 | **47개** |
| 변경된 파일 | 333개 | 173개 | **506개** |
| 추가된 라인 | +23,352 | +19,687 | **+43,039** |
| 삭제된 라인 | -5,533 | -4,016 | **-9,549** |
| 순증 라인 | +17,819 | +15,671 | **+33,490** |

#### 커밋 유형별 분류

**백엔드 (mobidoc-server)**

| 유형 | 수량 | 비율 |
|------|------|------|
| feat (새 기능) | 4개 | 17.4% |
| docs (문서화) | 4개 | 17.4% |
| build (빌드) | 4개 | 17.4% |
| fix (버그 수정) | 2개 | 8.7% |
| update (업데이트) | 2개 | 8.7% |
| test (테스트) | 1개 | 4.3% |
| style (스타일) | 1개 | 4.3% |
| refactor (리팩토링) | 1개 | 4.3% |
| config (설정) | 1개 | 4.3% |
| 기타 | 3개 | 13.0% |

**프론트엔드 (mobidoc-front)**

| 유형 | 수량 | 비율 |
|------|------|------|
| fix (버그 수정) | 9개 | 37.5% |
| feat (새 기능) | 4개 | 16.7% |
| refactor (리팩토링) | 2개 | 8.3% |
| update (업데이트) | 2개 | 8.3% |
| feature (기능) | 2개 | 8.3% |
| style (스타일) | 1개 | 4.2% |
| docs (문서화) | 1개 | 4.2% |
| chore (기타) | 1개 | 4.2% |
| 기타 | 2개 | 8.3% |

#### 일별 커밋 활동

**백엔드 (mobidoc-server)**
```
12/03 (화): ██ 1개
12/04 (수): ██████ 3개
12/15 (일): ██ 1개
12/22 (일): ██ 1개
12/23 (월): ██ 1개
12/24 (화): ██████ 3개
12/29 (일): ████████████████ 8개
12/30 (월): ████████ 4개
12/31 (화): ██ 1개
```

**프론트엔드 (mobidoc-front)**
```
12/03 (화): ██████ 3개
12/04 (수): ████████ 4개
12/05 (목): ██ 1개
12/08 (일): ██ 1개
12/09 (월): ██ 1개
12/11 (수): ██ 1개
12/16 (월): ██ 1개
12/18 (수): ██ 1개
12/19 (목): ██ 1개
12/23 (월): ████ 2개
12/24 (화): ████ 2개
12/29 (일): ████████ 4개
12/30 (월): ████ 2개
```

#### 주요 변경 파일 TOP 5

**백엔드 (mobidoc-server)**
1. `api-patient/build.gradle` - 4회 수정
2. `api-doctor/build.gradle` - 4회 수정
3. `api-admin/build.gradle` - 4회 수정
4. `docs/CLAUDE.md` - 3회 수정
5. 결제 콜백 개선 계획 문서 - 2회 수정

**프론트엔드 (mobidoc-front)**
1. `front-patient/plugins/apm.client.ts` - 5회 수정
2. 진료 신청 아키텍처 문서 - 3회 수정
3. APM RUM 구현 가이드 - 3회 수정
4. `front-patient/composables/consultRequest.ts` - 2회 수정
5. 병원 구독 페이지 - 2회 수정

---

## 기술 문서

이번 달에 작성/업데이트된 주요 문서:

### 백엔드 문서
- **CLAUDE.md** - 프로젝트 가이드 및 개발 규칙 (3회 업데이트)
- **결제 콜백 프로세스 아키텍처 개선 계획** (2회 업데이트)
- **모비닥 상품 구독 관리 문서**
  - 전체 개요
  - 시스템 아키텍처
  - 결제 플로우
  - 개발 가이드
  - 성능 최적화
  - 리뷰 체크리스트
- **진료 신청 API 문서** (업데이트)

### 프론트엔드 문서
- **APM RUM 구현 가이드** (3회 업데이트)
- **진료 신청 아키텍처 문서** (3회 업데이트)
- **Hospital Consult 도메인 문서** - 환자 정보 유효성 검사 및 프로세스 정리

### 사용자 가이드
- **병원 홈페이지 구독 서비스 사용자 가이드**
  - 구독 신청, 관리, 해지, 결제 내역 확인 가이드
- **QR/태블릿 진료 신청서 플로우 문서**
  - 가예약/예약/신규 접수 시나리오별 테스트 가이드

---

## 회고

### 양적 성과
12월은 총 **47개의 커밋**을 통해 **506개의 파일**을 수정하고, **33,490라인의 순증**을 기록한 생산적인 한 달이었습니다. 백엔드와 프론트엔드 전반에 걸쳐 균형잡힌 개발을 진행했으며, 특히 프론트엔드에서는 버그 수정(37.5%)에 집중하여 시스템 안정성을 높였습니다.

### 질적 성과
연말을 맞아 데이터 정리와 안정화 작업에 집중한 달이었습니다. 특히 **병원 홈페이지 구독 서비스**라는 주요 SaaS 기능을 성공적으로 런칭하여 반복 수익 모델의 기반을 마련했습니다. 이는 전체 코드 변경의 상당 부분을 차지하는 대규모 프로젝트였습니다.

캐싱 전략 개선, 진료 신청 플로우 정립, DB 중복 데이터 정리 등 시스템 안정성을 높이는 작업들을 통해 더욱 견고한 서비스를 만들어갈 수 있었습니다.

### 문서화 성과
이번 달은 특히 **문서화 작업**에 많은 노력을 기울였습니다. 백엔드에서는 17.4%의 커밋이 문서화에 할애되었으며, 모비닥 상품 구독 관리 시스템에 대한 포괄적인 기술 문서를 작성했습니다. 또한 APM RUM 구현 가이드와 진료 신청 아키텍처 문서를 지속적으로 업데이트하여 팀의 지식 공유를 강화했습니다.

### 개발 패턴 분석
일별 커밋 분포를 보면 **12월 29일(월)에 총 12개의 커밋**(백엔드 8개, 프론트엔드 4개)으로 가장 활발한 활동을 보였으며, 이는 연말 배포를 위한 집중 개발 시기였음을 알 수 있습니다. 12월 초(3~4일)와 말(29~30일)에 개발이 집중되었으며, 중순에는 상대적으로 여유있는 일정을 유지했습니다.

### 2026년 전망
안정적인 서비스 운영과 함께 새로운 기능 개발을 통해 더 나은 의료 서비스를 제공할 수 있도록 노력하겠습니다. 특히 12월에 구축한 SaaS 구독 모델을 기반으로 추가 상품 및 서비스를 확장할 계획입니다.

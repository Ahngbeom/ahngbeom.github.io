---
title: "2024년 10월 회고록"
date: "2024-10-31"
---

# 2024년 10월 회고록

## 개요

2024년 10월에는 **40개의 Jira 이슈**와 **53개의 커밋**(BE 28개 + FE 24개 + DB 스키마 1개)을 처리하며 환자 앱과 통합 시스템의 사용성 개선과 안정성 강화에 집중했습니다. 특히 예약 시스템 안정화, 알림 시스템 개선, 새로운 기능(차트번호, 일정 관리) 추가와 함께 **프론트엔드에서 예약 시간 마감 케이스 대폭 개선** 작업이 진행되었습니다.

| 항목 | 수량 |
|------|------|
| 완료한 이슈 | 38개 |
| 진행 중 / 모니터링 | 2개 |
| Backend 커밋 | 28개 |
| Frontend 커밋 | 24개 |
| DB Schema (mobidoc-database) | 1개 |
| **총 커밋** | **53개** |

## 완료한 작업

### 1. 예약 시스템 안정화 및 개선
**이슈:** [이슈 #1] ~ [이슈 #6], [이슈 #13], [이슈 #18], [이슈 #21], [이슈 #28], [이슈 #32], [이슈 #33], [이슈 #39]

- **예약 제한 사항 완화**: 병원 사이드 진료 예약 제한 완화 서버 작업 완료
- **예약 시간 제한 확대**: 예약 시간 제한을 1년까지로 확장
- **자동 취소 로직 수정**: 통합 및 환자 앱의 자동 취소 로직 개선
- **예약 신청 안내 개선**: 한 시간 이전 예약 신청 시 안내 문구 추가
- **가족 예약 버그 수정**: 가족 추가 후 예약 시간 선택 시 가족 정보 삭제 버그 해결
- **진료신청서 자동 선택**: 진료신청서 1명만 있을 때 자동 선택 버그 수정
- **진료신청서 방어 로직**: 환자 번호 이동 시 방어 로직 추가
- **진료예약 변경 문자**: "병원명:" 텍스트 제거로 가독성 개선
- **진료내역 표시 개선**: 특정 병원 선택 시 진료내역이 완전히 표시되지 않던 문제 해결
- **예약 버튼 조건 처리**: 통합 전체 의사 원격진료 off 시 환자 쪽 원격 버튼 비노출 처리

### 2. 알림 시스템 개선
**이슈:** [이슈 #2], [이슈 #7], [이슈 #8], [이슈 #14], [이슈 #11], [이슈 #27], [이슈 #31], [이슈 #34]

- **알림 카테고리 분류**: 모든 알림 type 지정 및 link 수정
- **진료예약 알림 개선**:
  - 5분 전 알림 본문 내용 수정
  - 예약 접수 완료 알림에 부서명 추가
  - 진료예약일 알림 INSERT NPE 버그 수정
- **병원 이벤트 알림**: 이벤트/혜택 알림 병원 리스트 중복 생성 버그 해결
- **의사 변경 알림**: 알림 내용 개선
- **일정 환자 알림**: 일정 환자 알림 템플릿 추가
- **알림 UI 버그**: 알림 리스트 페이지 스크롤이 상세 페이지에 적용되던 문제 해결

### 3. 새로운 기능 추가
**이슈:** [이슈 #16], [이슈 #20], [이슈 #23], [이슈 #25], [이슈 #29], [이슈 #37]

- **환자 차트번호 기능**:
  - 통합 시스템에 환자 차트번호 추가 서버 작업
  - A병원 환자 차트번호 마이그레이션 완료
- **직원별 상용구 시스템**: 직원별 상용구 테이블 생성
- **병원 일정 관리**: 병원 일정 테이블 추가
- **피드 북마크**: 피드 북마크 테이블 업데이트
- **태블릿 주소창**: A병원 1호점 주소창 추가

### 4. DB 작업 및 데이터 개선
**이슈:** [이슈 #4], [이슈 #12], [이슈 #15], [이슈 #17], [이슈 #22], [이슈 #26]

- **주차 테이블**: 환자, 병원 주차 테이블 생성 (대기 중)
- **마케팅 동의 약관**: 중복 데이터 제거 및 Unique Key 제약조건 추가
- **진료 히스토리**: 진료 히스토리 테이블 컬럼 추가
- **가족 환자 연결**: 가족 환자 연결 프로시저 개선
- **외부 연동**: 메디씨 연동을 위한 서버 호출 API 변경

### 5. UI/UX 개선
**이슈:** [이슈 #3], [이슈 #5], [이슈 #19], [이슈 #24], [이슈 #30]

- **의사 프로필**: 다음 진료 가이드 추가
- **병원명 표시**: "의원" 텍스트 삭제
- **진료 상태 표시**: 휴진 텍스트 컬러 통일
- **의사 변경 알림**: 내용 개선
- **최근 진료 정렬**: 홈 상단 진료예약/원격진료 선택 시 최근 진료 정렬 순서 개선
- **본인인증 로딩**: 최초 본인인증 이후 화면 전환 시 로딩 개선

### 6. 버그 수정
**이슈:** [이슈 #9], [이슈 #35], [이슈 #36]

- **진료예약 버그**: 예약이 정상적으로 되지 않던 문제 해결
- **병원 홈페이지**: 진료예약 초진 환자 신청 시 서버 내부 오류 해결
- **환자 검색**: 환자 검색 API 수정

### 7. 병원 홈페이지
**이슈:** [이슈 #17]

- **C 타입 테마**: 홈페이지 C 타입 디폴트 테마 설정 완료

### 8. 성능 모니터링
**이슈:** [이슈 #10]

- **본인인증 프로시저**: 모비닥 본인인증 시 호출되는 DB 프로시저 개선 필요 (Slow Query) - 모니터링 중

### 9. 프론트엔드 작업 (24개 커밋) 📱

10월에는 mobidoc-front에서 총 24개의 커밋이 진행되었으며, 주로 **예약 시스템 UX 개선**과 **환자 정보 관리 안정화**에 집중했습니다.

#### 9.1 예약 시간 마감 케이스 대폭 개선 (11개 커밋)
**작업 내용:**
- 예약 시간 마감 시 사용자 안내 메시지 개선
- ApiErrorHandler 전면 리팩토링
- 에러 처리 로직 안정화
- Sentry 로깅 최적화 (불필요한 captureMessage 제거)

**영향:**
- 사용자가 마감된 시간대 선택 시 명확한 안내 제공
- 에러 처리 일관성 확보
- 모니터링 노이즈 감소

#### 9.2 환자 정보 편집 버그 수정 (2개 커밋)
**작업 내용:**
- 통합 시스템 환자 정보 편집 모달 disabled 조건 수정
- 이름, 휴대폰 번호, 주민등록번호 필드 처리 개선

**영향:**
- 환자 정보 수정 플로우 안정화
- 데이터 무결성 강화

#### 9.3 병원 환자 검색 API 리팩토링 (2개 커밋)
**작업 내용:**
- type, keyword 파라미터 활용
- 검색 성능 및 정확도 개선

**영향:**
- 환자 검색 속도 향상
- 검색 결과 정확도 개선

#### 9.4 기타 버그 수정 (2개 커밋)
- 병원홈페이지 초진 환자 신청 시 서버 내부 오류 해결
- QR 신규 환자 추가 버그 수정

## GitLab 커밋 내역

### Backend Server (28개 커밋)
**레포지토리:**
- flyingdoctor-server (stag): 28개
- mobidoc-server (develop): 0개

**주요 작업:**
- 예약 시스템 로직 개선
- 알림 시스템 구조 개선
- 차트번호 기능 구현
- DB 스키마 업데이트 (일정, 상용구, 피드 북마크)
- 버그 수정 및 성능 개선

### Frontend (24개 커밋)
**레포지토리:**
- mobidoc-front (develop): 24개
- flyingdoctor-front (develop): 0개

**주요 작업:**
1. **진료 예약 시간 마감 케이스 개선** (11개 커밋)
   - 예약 시간 마감 시 사용자 안내 개선
   - ApiErrorHandler 리팩토링
   - 에러 처리 로직 안정화
   - Sentry 로깅 최적화

2. **통합 환자 정보 편집 버그 수정** (2개 커밋)
   - 환자 정보 편집 모달 disabled 조건 수정
   - 이름, 휴대폰 번호, 주민등록번호 필드 처리 개선

3. **병원 환자 검색 API 리팩토링** (2개 커밋)
   - type, keyword 파라미터 활용
   - 검색 성능 및 정확도 개선

4. **병원홈페이지 초진 환자 신청 오류 수정** (1개 커밋)
   - 진료예약 초진 환자 신청 시 서버 내부 오류 해결

5. **QR 신규 환자 추가 버그 수정** (1개 커밋)
   - 진료 받을 환자 리스트 개편 관련 버그 수정

6. **기타 Merge 커밋** (7개)

### DB Schema - mobidoc-database (1 커밋)

| 날짜 | 커밋 메시지 |
|------|------------|
| 10-21 | [20241021] MOBIDOC DATABASE SCHEMA UPDATE |

**총 커밋: 53개 (BE 28개 + FE 24개 + DB Schema 1개)**

## 주요 성과 및 인사이트

### 1. 예약 시스템 전방위 개선 (BE 28개 + FE 24개 + DB Schema 1개 커밋)
10월에는 백엔드와 프론트엔드가 협력하여 예약 시스템을 전방위적으로 개선했습니다:

**백엔드 (BE):**
- 가족 예약 플로우 안정화
- 자동 취소 로직 개선
- 예약 제한 완화 (1년까지 확장)

**프론트엔드 (FE):**
- 예약 시간 마감 케이스 UX 대폭 개선 (11개 커밋)
- ApiErrorHandler 전면 리팩토링
- 에러 처리 일관성 확보

**시너지 효과:**
- 백엔드 로직 개선 + 프론트엔드 UX 개선으로 완성도 높은 예약 시스템 구축
- 사용자 경험 대폭 향상

### 2. 알림 시스템 체계화
알림 시스템을 전반적으로 개선하여 사용자 경험을 향상시켰습니다:
- 알림 카테고리 분류로 관리 효율성 증대
- 진료예약 관련 알림 내용 개선
- 중복 알림 발생 버그 해결

### 3. 새로운 기능 도입으로 확장성 확보
차트번호, 일정 관리, 상용구 등 새로운 기능을 추가하여 시스템의 확장성을 확보했습니다. 특히 차트번호 기능은 병원 연동에서 중요한 역할을 합니다.

### 4. 프론트엔드 코드 품질 및 UX 대폭 향상 (24개 커밋)
10월은 프론트엔드 작업이 활발했던 달입니다:

**예약 시간 마감 케이스 개선 (11개 커밋):**
- 사용자가 마감된 시간대 선택 시 명확한 안내 제공
- ApiErrorHandler 전면 리팩토링으로 에러 처리 일관성 확보
- Sentry 로깅 최적화로 모니터링 노이즈 감소

**환자 정보 관리 안정화:**
- 환자 정보 편집 버그 수정
- 환자 검색 API 리팩토링
- QR 신규 환자 추가 플로우 개선

**영향:**
- 사용자 경험 대폭 향상
- 코드 유지보수성 개선
- 에러 모니터링 품질 향상

### 5. 데이터 무결성 강화
마케팅 동의 약관의 중복 데이터 제거 및 Unique Key 제약조건 추가로 데이터 무결성을 강화했습니다.

### 6. 성능 모니터링 지속
본인인증 프로시저의 Slow Query 문제를 파악하고 모니터링 중입니다. 향후 최적화 작업이 필요합니다.

## 다음 달 계획

### 주요 작업 계획
1. **주차 테이블 기능 개발**: 환자, 병원 주차 테이블을 활용한 기능 개발
2. **본인인증 프로시저 최적화**: Slow Query 개선 작업
3. **일정 관리 기능 고도화**: 새로 추가된 일정 테이블 활용
4. **상용구 시스템 구현**: 직원별 상용구 기능 개발

### 기술 부채 해결
- 성능 모니터링 중인 쿼리 최적화
- 외부 연동 API 안정성 강화

## 통계

### 이슈 유형별 분포
| 유형 | 수량 | 비율 |
|------|------|------|
| 작업 | 13개 | 32.5% |
| 개선 | 15개 | 37.5% |
| 버그 | 9개 | 22.5% |
| 새 기능 | 2개 | 5.0% |
| 하위 작업 | 1개 | 2.5% |

### 완료율
- **완료**: 38개 (95%)
- **진행 중/모니터링**: 2개 (5%)

### 커밋 통계
| 항목 | 수량 | 비율 |
|------|------|------|
| Backend 커밋 | 28개 | 52.8% |
| Frontend 커밋 | 24개 | 45.3% |
| DB Schema (mobidoc-database) | 1개 | 1.9% |
| **총 커밋** | **53개** | **100%** |

**레포지토리별 상세:**
- flyingdoctor-server (stag): 28개
- mobidoc-server (develop): 0개
- flyingdoctor-front (develop): 0개
- mobidoc-front (develop): 24개 (실제 기능 커밋 17개 + merge 7개)

## 회고

### 잘한 점 👍
1. **백엔드-프론트엔드 협업 강화** (총 53개 커밋):
   - 백엔드 28개, 프론트엔드 24개 커밋으로 균형잡힌 개발
   - 예약 시스템을 BE/FE 양쪽에서 동시에 개선하여 완성도 있는 결과물 도출

2. **예약 시스템 전방위 개선**:
   - 백엔드: 다양한 엣지 케이스 해결 (가족 예약, 번호 이동, 자동 취소 등)
   - 프론트엔드: 예약 시간 마감 케이스 UX 대폭 개선 (11개 커밋)
   - ApiErrorHandler 리팩토링으로 에러 처리 일관성 확보

3. **체계적인 알림 관리**: 알림 시스템을 카테고리별로 정리하여 유지보수성을 높였습니다.

4. **신규 기능 추가**: 차트번호, 일정 관리 등 확장성 있는 기능을 추가했습니다.

5. **데이터 무결성**: Unique Key 제약조건 추가로 데이터 품질을 향상시켰습니다.

6. **프론트엔드 코드 품질 향상**:
   - 환자 정보 편집 로직 안정화
   - 환자 검색 API 리팩토링
   - Sentry 로깅 최적화

### 개선이 필요한 점 🔧
1. **성능 최적화**: 본인인증 프로시저의 Slow Query 문제를 빠르게 해결해야 합니다.
2. **테스트 커버리지**: 예약 관련 버그가 많이 발견된 만큼, 테스트 커버리지 강화가 필요합니다.
3. **문서화**: 새로 추가된 기능(차트번호, 일정 관리 등)에 대한 문서화가 필요합니다.

### 배운 점 📚
1. **풀스택 협업의 시너지**: 백엔드와 프론트엔드가 동일한 기능을 동시에 개선하면 완성도가 크게 향상됩니다. 예약 시스템의 경우 BE의 로직 개선과 FE의 UX 개선이 맞물려 사용자 경험이 대폭 향상되었습니다.

2. **에러 처리 일관성의 중요성**: ApiErrorHandler 리팩토링을 통해 에러 처리를 표준화하니, 사용자에게 일관된 경험을 제공할 수 있었고 유지보수도 쉬워졌습니다.

3. **엣지 케이스 중요성**: 가족 예약, 번호 이동 등 다양한 엣지 케이스를 고려한 개발이 중요합니다.

4. **데이터 무결성**: Unique Key 제약조건 등 DB 레벨에서의 무결성 보장이 버그 예방에 효과적입니다.

5. **점진적 개선**: 알림 시스템처럼 전체 시스템을 점진적으로 개선하는 접근이 효과적입니다.

6. **반복 작업의 가치**: 예약 시간 마감 케이스 개선에 11개 커밋을 투자했지만, 그 결과 안정적이고 사용자 친화적인 시스템을 구축할 수 있었습니다.

---

**작성일**: 2025년 2월 2일

---
title: "월간 회고록 (2024.03.01 ~ 2024.03.31)"
date: "2024-03-31"
tags: [회고, 플라잉닥터, 월간회고]
---

## 개요

2024년 3월 한 달간의 회고록입니다. 이 달의 핵심 프로젝트는 **태블릿 접수 대규모 개선** 및 **진료 신청서 리팩토링**이었습니다. 태블릿 접수 시스템을 전면 개편하여 초진/재진 진료 접수와 예약 도착 확인 기능을 추가했고, APP 진료신청서를 리팩토링했습니다. 또한 병원 진료 마감 상태를 재정리하고, EMR 연동을 위한 테이블 작업을 계속 진행했습니다. 총 35개의 이슈를 처리하고, 38개의 커밋(백엔드 19개 + 프론트엔드 19개 + DB 스키마 3개)을 작성했습니다.

**커밋 통계:**
- Backend: 19개 (flyingdoctor-server)
- Frontend: 19개 (mobidoc-front)
- DB Schema: 3개 (mobidoc-database)
- **총 41개 커밋**

---

## 완료한 작업

### 에픽 - 태블릿 접수 대규모 개선

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #1 | [태블릿] 태블릿 접수 개선 | Medium | 태블릿 접수 전면 개편 에픽 |

### 에픽 - 진료 신청서 개선

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #2 | [환자][가족진료] 가이드 추가 | Medium | 가족 진료 안내 개선 |
| 이슈 #3 | [환자] 비회원 접수 화면개선 | Medium | 비회원 접수 UX 개선 |
| 이슈 #4 | [환자] APP 진료신청서 | Medium | APP 진료신청서 리팩토링 |

### 새 기능 개발

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #5 | [통합] 약관에 있는 내용인데 앱/WEB 진료 신청 시 약관 동의항목에서 안보임 | Medium | 약관 동의 항목 추가 |

### 버그 수정

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #6 | [통합] 정산 페이지 - 당일 결제 내역이 표시되지 않음 | Medium | 정산 페이지 날짜 필터 버그 |
| 이슈 #7 | [환자] 가족추가 쿼리 에러 | Medium | 가족 추가 SQL 오류 수정 |
| 이슈 #8 | [환자] 결제 실패 (유진연세의원 건) | Medium | 특정 병원 결제 오류 수정 |
| 이슈 #9 | [관리자] 환자 상세 - 주소가 보이지 않음 | Medium | 주소 표시 버그 수정 |
| 이슈 #10 | [통합] 병원 정보 편집 - 저장하기 버튼 더블클릭 시, 에러 | Medium | 중복 요청 방지 |

### 기능 개선 - 태블릿 접수

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #11 | [태블릿] 확대/축소 기능 삭제 | Medium | 불필요한 기능 제거 |
| 이슈 #12 | [태블릿] 주소정보가 없는 환자의 경우 버튼 레이블 변경 | Medium | 주소 변경 버튼 개선 (보류) |

### 기능 개선 - 진료 신청서

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #13 | [환자] 진료신청 - 주소 추가 화면 개선 (비회원접수와 동일) | Medium | 주소 입력 UX 통일 (보류) |
| 이슈 #14 | [환자] 초진문진표 - 함께진료 가이드 개선 (비회원접수 동일) | Medium | 함께진료 안내 개선 |

### 기능 개선 - 병원 정보

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #15 | [환자] 병원 진료 마감 상태 재정리 및 분리 | Highest | 진료 마감 로직 개선 |
| 이슈 #16 | [환자] 진료시간 - 오전접수마감 라벨 - 오후가 되면 사라진다 | Medium | 마감 라벨 표시 개선 |
| 이슈 #17 | [환자] 진료예약 - 당일 예약 가능한 최대 시간 조정 | Medium | 예약 시간 조정 (진료 종료시간 - 15분) |

### 기능 개선 - 약관 관리

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #18 | [통합] 약관 카드생성 | Medium | 약관 관리 UI 개선 |
| 이슈 #19 | [통합] 약관 순서변경 모달 | Medium | 약관 순서 관리 기능 |
| 이슈 #20 | [통합] 약관 추가 상세페이지 개선 (필수,선택/ 안내모달) | Medium | 약관 등록 개선 |

### 기능 개선 - 결제

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #21 | [결제] Slack - monitoring 채널에 결제 실패 로그 기록 | Medium | 결제 모니터링 강화 |

### 기능 개선 - 기타

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #22 | [환자] 피드 상세 메뉴 바텀시트 | Medium | 피드 UI 개선 (해야 할 일) |

### 작업 - 관리자

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #23 | [관리자] 회원 정보 상세 - 진료내역 - 정보 추가 | Medium | 회원 상세 정보 확장 |
| 이슈 #24 | [환자] 전체 - 공지사항 - 신규 공지가 상위 노출되도록 수정 | Medium | 공지사항 정렬 개선 |
| 이슈 #25 | [관리자] 회원 - 회원 상세 - 카드 등록 상태 반영이 안됨 | Medium | 카드 상태 동기화 |

### 작업 - EMR 연동

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #26 | Prod 청라휴먼피부센터 의사 라이센스 추가, 연동 정보 추가 | Medium | EMR 연동 병원 추가 |
| 이슈 #27 | Prod 원흥바른신경외과 의사 라이센스 및 EMR 연동 정보 추가 | Medium | EMR 연동 병원 추가 |

### 작업 - DB 스키마

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #28 | [DB] 공적처방전달 - 조제 취소 알람 템플릿 추가 | Medium | 조제 취소 알림 |
| 이슈 #29 | [DB] 공적처방전달 - 알람 템플릿 link 수정 | Medium | 알림 링크 수정 |
| 이슈 #30 | [DB] 추천약국 table 칼럼 추가 및 값 추가 | Medium | 추천약국 테이블 확장 |
| 이슈 #31 | [DB] 군진료 테이블 수정 | Medium | 군 의료 테이블 수정 |
| 이슈 #32 | [DB] tb_hospital.status comment 수정 | Medium | 테이블 주석 수정 |
| 이슈 #33 | [DB] 의사 시간표 테이블 업데이트 | Medium | 의사 스케줄 테이블 |
| 이슈 #34 | [DB] CREATE TABLE hospital_address_boundary - 병원별 주변 지역 정보 | Medium | 병원 주변 지역 테이블 생성 |
| 이슈 #35 | [DB] tb_hospital 요양기관 번호 추가 | Medium | 요양기관 번호 컬럼 추가 |

---

## GitLab 커밋 내역

### Backend Server (18 commits) - 태블릿 접수 및 진료 신청서 리팩토링

| 날짜 | 내용 |
|------|------|
| 03-22 | [api-doctor] application-local.properties DB HOST 수정 |
| 03-22 | [api-patient] tb_prescription_consult_delivery → tb_prescription_consult_delivery_v2 |
| 03-22 | [api-patient] 원격 진료 신청 |
| 03-22 | [공통] rabbitmq host 변경 |
| 03-22 | [환자] HospitalJobDto.validate - 주민등록번호 검증 로직 수정 |
| 03-22 | [환자] 원격 진료 취소 & 최근 예약 진료 내역 조회 |
| 03-26 | [공통] emr_consult_mapping → emr_consult_mapping_v2 |
| 03-26 | [공통] getAllTypeConsultWhereQuery - search.searchRequestStartDt 수정 |
| 03-26 | [환자] APP 진료 신청 |
| 03-26 | [환자] 결제 수단 등록 API - ElasticApm addCustomContext |
| 03-27 | [환자] 진료예약 - 당일 예약 가능한 최대 시간 조정 (진료 종료시간 - 15분) |
| 03-28 | [관리자] 결제 내역 조회 중복 API 제거 |
| 03-29 | [환자] APP 진료 신청 - 버그 수정 |
| 03-29 | [환자] 결제 카드 등록 - updateCreditCard 쿼리문 제거 |
| 03-29 | [환자] 태블릿 접수 - 예약 도착 확인 |
| 03-29 | [환자] 태블릿 접수 - 초진 & 재진 진료 접수 |

### DB Schema - mobidoc-database (3 commits)

| 날짜 | 내용 |
|------|------|
| 03-04 | [DB] RENAME NOT USED TABLE - ADD TABLE (tb_alarm_pharmacy) |
| 03-06 | 미사용 테이블 정리 - tb_patient_identification `del` 키워드 삽입 |
| 03-08 | [20240308] MOBIDOC DATABASE SCHEMA UPDATE |

### Frontend (0 commits)

이번 달도 프론트엔드 커밋이 없었습니다. 모든 작업이 서버와 DB에 집중되었습니다.

---

## 주요 성과 및 인사이트

### 1. 태블릿 접수 전면 개편 (에픽)

태블릿 접수 시스템을 **전면 개편**했습니다.

**주요 개선 사항:**
- **초진 & 재진 진료 접수**: 태블릿에서 초진/재진 구분하여 접수 가능
- **예약 도착 확인**: 예약한 환자가 태블릿으로 도착 확인
- **확대/축소 기능 삭제**: 불필요한 기능 제거로 UX 단순화
- **주소 정보 처리 개선**: 주소 없는 환자의 버튼 레이블 개선

**관련 커밋:** 2개 (태블릿 접수)

### 2. APP 진료신청서 리팩토링 (에픽)

APP 진료신청서를 **리팩토링**했습니다.

**주요 개선 사항:**
- 원격 진료 신청 로직 개선
- 원격 진료 취소 로직 개선
- 최근 예약 진료 내역 조회 최적화
- 버그 수정 (03-29)

**관련 커밋:** 3개 (APP 진료 신청)

### 3. 병원 진료 마감 상태 재정리 (Highest 우선순위)

병원 진료 마감 상태를 **재정리하고 분리**했습니다.

**개선 내용:**
- 진료 마감 상태 로직 명확화
- 오전 접수 마감과 오후 진료의 표시 개선
- 진료 종료시간 기준 재정의

**효과:**
- 환자가 진료 가능 여부를 명확하게 파악
- 병원별 진료 마감 기준 일관성 확보

### 4. 진료예약 시간 조정

당일 예약 가능한 최대 시간을 **진료 종료시간 - 15분**으로 조정했습니다.

**조정 이유:**
- 진료 종료 직전 예약 방지
- 병원의 마무리 시간 확보
- 환자의 대기 시간 최소화

### 5. 비회원 접수 화면 개선 (에픽)

비회원 접수 화면을 전면 개편했습니다.

**개선 내용:**
- 주소 추가 화면 개선
- 초진문진표 함께진료 가이드 개선
- 회원 진료신청서와 UX 통일

### 6. 약관 관리 기능 개선

약관 관리 기능을 대폭 개선했습니다.

**개선 내용:**
- 약관 카드 생성 UI
- 약관 순서 변경 모달
- 약관 추가 상세페이지 (필수/선택 구분, 안내 모달)

### 7. 결제 모니터링 강화

결제 실패 시 **Slack monitoring 채널에 로그를 기록**하여 모니터링을 강화했습니다.

**효과:**
- 결제 실패 즉시 인지
- 빠른 대응 가능
- 결제 실패 패턴 분석 용이

### 8. EMR 연동 병원 확대

EMR 연동 병원을 **2개 추가**했습니다.

**추가된 병원:**
- 청라휴먼피부센터
- 원흥바른신경외과

**테이블 버전업:**
- tb_prescription_consult_delivery → tb_prescription_consult_delivery_v2
- emr_consult_mapping → emr_consult_mapping_v2

### 9. ElasticApm 모니터링 추가

결제 수단 등록 API에 **ElasticApm addCustomContext**를 추가하여 모니터링을 강화했습니다.

---

## 2024년 4월 계획

1. **태블릿 접수 안정화**: 전면 개편 후 피드백 수집 및 개선
2. **EMR 연동 확대**: 더 많은 병원에 EMR 연동 적용
3. **결제 모니터링 분석**: 수집된 결제 실패 로그 분석

---

## 통계

### 이슈

- **총 이슈 수**: 35개
- **완료**: 32개 (91.4%)
- **해야 할 일**: 1개 (2.9%)
- **보류**: 2개 (5.7%)

| 유형 | 개수 |
|------|------|
| 에픽 | 4개 |
| 새 기능 | 1개 |
| 버그 | 5개 |
| 개선 | 11개 |
| 작업 | 11개 |
| 하위 작업 | 3개 |

| 우선순위 | 개수 |
|----------|------|
| Highest | 1개 |
| Medium | 34개 |

### 커밋

- **총 커밋 수**: 22개
- **Backend Server**: 19개
- **Frontend**: 0개
- **DB Schema (mobidoc-database)**: 3개

| 도메인 | 커밋 수 |
|--------|---------|
| 태블릿 접수 | 2개 (11%) |
| APP 진료 신청 | 3개 (16%) |
| 진료예약 시간 | 2개 (11%) |
| 테이블 버전업 | 2개 (11%) |
| 기타 | 9개 (50%) |

---

## 회고

2024년 3월은 **태블릿 접수 전면 개편**과 **APP 진료신청서 리팩토링**에 집중한 달이었습니다.

이번 달도 **100% 서버 중심 작업**이었습니다. 2023년 10월부터 **6개월 연속** 프론트엔드 커밋이 없었으며, 백엔드와 DB 작업에만 집중했습니다.

**태블릿 접수 전면 개편**은 1~2월에 이어 지속적으로 개선한 작업의 완성이었습니다. 초진/재진 진료 접수와 예약 도착 확인 기능을 추가하여 태블릿 접수 시스템이 병원 현장에서 더욱 유용하게 사용될 수 있게 되었습니다.

**APP 진료신청서 리팩토링**은 원격 진료 신청, 취소, 조회 로직을 개선한 작업입니다. 3개의 커밋으로 점진적으로 개선하고, 버그 수정까지 완료했습니다.

**병원 진료 마감 상태 재정리**(Highest 우선순위)는 환자 경험에 직접적인 영향을 주는 중요한 작업이었습니다. 진료 마감 상태를 명확하게 정리하여 환자가 진료 가능 여부를 정확하게 파악할 수 있게 되었습니다.

**EMR 연동 병원 확대**는 2개 병원을 추가하며 EMR 연동을 지속적으로 확대했습니다. 또한 테이블을 v2로 버전업하여 기존 데이터와 분리하고 새로운 구조로 전환했습니다.

**결제 모니터링 강화**는 Slack 연동과 ElasticApm 추가로 결제 관련 문제를 실시간으로 모니터링할 수 있게 되었습니다.

에픽 4개를 완료한 것이 이번 달의 가장 큰 특징입니다. 태블릿 접수, APP 진료신청서, 가족진료 가이드, 비회원 접수 화면 개선 등 대규모 작업들을 완료했습니다.

커밋 수(18개)는 평균 수준이지만, 에픽 4개 완료와 Highest 우선순위 작업 1개를 포함하여 중요한 작업들에 집중했습니다.

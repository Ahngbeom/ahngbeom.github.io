---
title: "월간 회고록 (2023.06.01 ~ 2023.06.30)"
date: "2023-06-30"
tags: [회고, 플라잉닥터, 월간회고]
permalink: /Retrospective/2023-06-01-2023-06-30-monthly-retrospective.html
legacy_url: /Retrospective/2023/monthly/2023-06-01-2023-06-30-monthly-retrospective.html
---
## 개요

2023년 6월 한 달간의 회고록입니다. 이 달의 핵심 프로젝트는 **진료 통합** 작업이었습니다. 방문예약과 원격진료를 하나의 진료 시스템으로 통합하는 대규모 리팩토링을 수행했습니다. 총 17개의 이슈를 처리하고, 43개의 커밋(서버 43개 + 프론트 0개)을 작성했습니다.

---

## 완료한 작업

### 버그 수정

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #1 | [환자] 진료과별 병원 선택 페이지에서 일부 진료과목의 병원 리스트 안보이는 현상 | Medium | 특정 진료과목 병원 목록 조회 오류 |
| 이슈 #2 | [환자] 알림 - CRM 리스트 선택되지 않음 | Medium | CRM 알림 선택 기능 오류 |

### 기능 개선 - 진료 통합 관련

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #3 | [통합 업데이트] 의사 진료시간표 - 예약 방식 선택 | Medium | 진료 예약 방식 선택 기능 |
| 이슈 #4 | [환자] 진료탭 - 방문예약 취소시 이름 노출되지 않음 | Medium | 취소 시 환자명 표시 |
| 이슈 #5 | [환자] QR접수 취소한 경우 상단 배경 상이 | Medium | 취소 상태 UI 일관성 |
| 이슈 #6 | [환자] 원격진료 - 대기 시간 0분일 때 텍스트 변경 | Medium | 대기 시간 표시 개선 |
| 이슈 #7 | [환자] 원격진료 - 진료 완료 날짜 표시 | Medium | 완료 날짜 정보 추가 |
| 이슈 #8 | [환자] 예약당일 예약시간이 경과되었을 경우 개선 | Medium | 경과된 예약 처리 로직 |

### 기능 개선 - 환자 정보 관련

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #9 | [통합] 가족계정 초진 시, 취소 후 새로 접수하면 기존 주민등록번호 불러옴 | Medium | 취소 후 재접수 시 데이터 초기화 |
| 이슈 #10 | [환자] 주민등록번호 뒷자리 미입력 시 진료 접수 개선 | Medium | 유효성 검사 강화 |
| 이슈 #11 | [환자] 로그인 상태에서 본인인증 다시할 경우 환자 정보 업데이트 개선 | Medium | 본인인증 후 정보 갱신 |

### 기능 개선 - 기타

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #12 | [환자] 피드 - 병원 각 탭 피드 10개만 노출 | Medium | 피드 노출 개수 제한 해제 |
| 이슈 #13 | [환자] 병원카드 - 의사 정렬 - 진료중인 의사부터 노출 | Medium | 의사 정렬 우선순위 변경 |
| 이슈 #14 | [관리자] 병원/의사 검색 시 검색 조건 추가 | Low | 검색 필터 확장 |
| 이슈 #15 | [환자] 택배/배달 기능 막기 | Medium | 특정 기능 비활성화 |

### 작업

| 이슈 | 제목 | 우선순위 | 설명 |
|------|------|----------|------|
| 이슈 #16 | [통합] CRM 및 환자 알림 테이블 업데이트 | Medium | DB 테이블 구조 변경 |

---

## GitLab 커밋 내역

### Backend Server (43 commits) - 진료 통합 프로젝트

| 날짜 | 내용 |
|------|------|
| 06-30 | [공통] 예약 날짜 검색 조건 수정, 취소된 진료 검색 조건 수정 |
| 06-30 | [환자] 예약 날짜 검색 쿼리 수정 |
| 06-30 | [공통] 예약 서비스 - 날짜 포맷 수정 |
| 06-30 | [배치, 공통] QR 접수 안내 푸시 알림 수정 |
| 06-30 | [전체] 방문예약 관련 코드 수정 |
| 06-30 | [전체] 방문예약 테이블 관련 파일 삭제 |
| 06-30 | [공통] 예약 서비스 - 진료그룹 서비스/조건 통합 사용 |
| 06-29 | [환자, 공통] 방문예약 시간표 추출/검증 로직 상태 조건 수정 |
| 06-29 | [통합, 공통] 진료그룹 검색 - 요청 파일 조건 추가 |
| 06-29 | [공통] 진료그룹 업데이트 - 유효성 검사 추가 |
| 06-29 | [공통] 진료그룹 업데이트 - 첨부파일 저장/수정 로직 제거 |
| 06-29 | [배치] 경과된 예약 진료 관리자 취소 처리 - 취소일시 추가 |
| 06-29 | [공통] 예약 요청 다음 단계 - 병원 주소록 활성화 로직 제거 |
| 06-28 | [환자, 공통] 검색 요청 파일 타입 변경 |
| 06-28 | [환자, 공통] 검색 목적 설정 |
| 06-28 | [공통] 진료그룹 목록 쿼리 - 목적별 조건 추가 |
| 06-28 | [환자] 진료그룹 등록 - 종료일시 컬럼 추가 |
| 06-28 | [환자, 공통] 진료기록 파일 리스트 |
| 06-28 | [배치, 공통] 경과된 예약진료 관리자 취소 - 예약 종료일 검색 |
| 06-28 | [환자] 진료기록 등록 - 종료일시 설정 |
| 06-28 | [환자] 종료된 진료그룹 목록 - 진료통합 로직 수정 |
| 06-27 | [전체] 당일 진료그룹 목록 추가 |
| 06-27 | [공통] 오프라인 작업 - 상태 설정 추가 |
| 06-27 | [공통] 환자 가입 여부 설정 제거 |

### Frontend (25 commits) - 진료 통합 프로젝트

| 날짜 | 내용 |
|------|------|
| 06-30 | [환자] 취소, 예약 안내 버튼 visible 조건 수정 |
| 06-30 | [환자] 카드 색상별 텍스트 색상 - 취소 상태 추가 |
| 06-30 | [환자] 방문예약 - QR 접수 버튼 visible 조건 수정 |
| 06-30 | [환자] 방문예약 - 진료카드 title 수정 |
| 06-30 | [환자] 방문접수 - 진료카드, 상세 title, subTitle 수정 |
| 06-30 | [환자] 타이틀 텍스트, 카드 색상별 텍스트 색상 수정 |
| 06-30 | [환자] 오프라인 진료 - 진료 안내 바텀시트 OFF |
| 06-30 | [환자] 검색 종료일 수정 |
| 06-30 | [환자] 상태별 카드 색상 - 예약 타입 수정 |
| 06-30 | [환자] 진료 탭 - 마운트 시 진료 목록 로드 |
| 06-30 | [환자] 예약 환자 토픽 구독 주석 제거 |
| 06-30 | [환자] 예약 진료그룹 서비스 삭제 |
| 06-29 | [환자] QR 진료신청서 - 사진 첨부 버튼 visible 조건 수정 |
| 06-29 | [환자] 이미지 뷰어 수정 |
| 06-29 | [환자] 진료 상세 - 파일 읽기 메소드 추가 |

---

## 주요 성과 및 인사이트

### 1. 진료 통합 프로젝트 (핵심)

방문예약과 원격진료를 하나의 통합된 진료 시스템으로 리팩토링하는 대규모 프로젝트를 수행했습니다.

**주요 변경 사항:**

#### 서버 (Backend)
- **테이블 통합**: 방문예약 전용 테이블 제거, 진료그룹 테이블로 통합
- **서비스 통합**: 예약 서비스가 진료그룹 서비스/조건을 사용하도록 변경
- **쿼리 통합**: 진료그룹 목록 쿼리에 목적별 조건 추가
- **배치 수정**: QR 접수 안내, 경과된 예약 취소 등 배치 작업 로직 수정

#### 프론트엔드 (Frontend)
- **서비스 삭제**: 예약 진료그룹 서비스 제거 (통합 서비스 사용)
- **UI 통합**: 진료카드 title, subTitle, 색상 등 통합 로직으로 변경
- **상태 처리**: 예약/방문접수/원격진료 상태별 카드 색상 및 버튼 조건 통합

**관련 커밋:** 서버 30개 + 프론트 20개 (총 50개, 전체의 74%)

### 2. 진료 관련 UX 개선 (6개 이슈)

진료 통합에 맞춰 다양한 UX 개선을 진행했습니다.

**개선 내용:**
- 방문예약 취소 시 환자명 표시
- QR접수 취소 상태 UI 일관성 확보
- 원격진료 대기 시간 0분일 때 텍스트 변경
- 원격진료 완료 날짜 표시 추가
- 경과된 예약 처리 로직 개선

### 3. 환자 정보 처리 개선 (3개 이슈)

환자 정보 관련 로직을 개선했습니다.

**개선 내용:**
- 가족계정 초진 취소 후 재접수 시 주민등록번호 초기화
- 주민등록번호 뒷자리 미입력 시 유효성 검사
- 본인인증 후 환자 정보 갱신 로직 개선

### 4. 의사 정렬 우선순위 변경 (이슈 #13)

병원카드에서 의사 목록을 진료중인 의사부터 노출되도록 정렬 로직을 변경했습니다.

### 5. CRM 및 환자 알림 테이블 업데이트 (이슈 #16)

진료 통합에 맞춰 CRM 및 환자 알림 테이블 구조를 업데이트했습니다.

---

## 2023년 7월 계획

1. **진료 통합 안정화**: 통합된 진료 시스템 모니터링 및 버그 수정
2. **레거시 코드 정리**: 미사용 방문예약 관련 코드 완전 제거
3. **성능 최적화**: 통합된 쿼리 및 로직 성능 개선

---

## 통계

### 이슈

- **총 이슈 수**: 17개
- **완료**: 16개 (94.1%)
- **보류**: 1개 (5.9%)

| 유형 | 개수 |
|------|------|
| 버그 | 2개 |
| 개선 | 14개 |
| 작업 | 1개 |

| 우선순위 | 개수 |
|----------|------|
| Medium | 15개 |
| Low | 2개 |

### 커밋

- **총 커밋 수**: 68개
- **Backend Server**: 43개
- **Frontend**: 25개

| 도메인 | 커밋 수 |
|--------|---------|
| 진료 통합 | 50개 (74%) |
| 진료 UX 개선 | 10개 |
| 기타 | 8개 |

---

## 회고

2023년 6월은 **진료 통합 프로젝트**라는 대규모 리팩토링에 집중한 달이었습니다. 이슈 수(17개)는 이전 달(45개)에 비해 크게 줄었지만, 커밋 수(68개)는 5월(35개)의 거의 2배에 달했습니다. 이는 이번 달 작업이 새로운 기능 개발보다 **기존 코드의 구조적 변경**에 집중했음을 보여줍니다.

**진료 통합 프로젝트**의 핵심 목표는 방문예약과 원격진료라는 두 개의 분리된 시스템을 하나로 통합하는 것이었습니다. 이를 통해:

1. **코드 중복 제거**: 방문예약 전용 테이블과 서비스를 제거하고 진료그룹으로 통합
2. **유지보수성 향상**: 진료 관련 로직이 한 곳에 집중되어 관리가 용이해짐
3. **확장성 확보**: 향후 새로운 진료 유형 추가 시 기존 구조 활용 가능

이 작업은 **서버와 프론트엔드 양쪽에서 대규모 변경**이 필요했으며, 특히 기존 데이터와의 호환성을 유지하면서 새로운 구조로 전환해야 했기 때문에 세심한 주의가 필요했습니다.

리팩토링 프로젝트는 새로운 기능을 추가하는 것보다 눈에 잘 띄지 않지만, 장기적으로 서비스의 품질과 개발 생산성을 높이는 중요한 작업입니다. 이번 달의 경험을 통해 대규모 리팩토링을 계획하고 실행하는 노하우를 쌓을 수 있었습니다.

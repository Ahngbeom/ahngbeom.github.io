---
title: "2024년 연간 회고록 (2024.01 ~ 2024.12)"
date: "2024-12-31"
tags: [회고, 플라잉닥터, 연간회고, 2024년결산]
bookmark: true
permalink: /Retrospective/2024-01-01-2024-12-31-annual-retrospective.html
legacy_url: /Retrospective/2024/annual/2024-01-01-2024-12-31-annual-retrospective.html
---
## 개요

2024년은 플라잉닥터 서비스의 **아키텍처 현대화, 예약 시스템 혁신, 시스템 안정화**가 이루어진 해였습니다. 12개월간 **486개의 커밋**(서버+프론트 463개 + 플러터 1개 + helm 인프라 9개 + DB 스키마 13개)과 **529개의 이슈**를 처리하며, 서비스를 한 단계 더 성숙시켰습니다.

### 2024년 핵심 키워드

- **🏗️ MSA**: 결제 서비스 MSA 분리, 아키텍처 현대화
- **📅 예약**: 가예약 시스템 구축, 진료예약 로직 전면 개편
- **🔄 안정화**: 진료 테이블 v2, 결제 시스템, 진료시간표 리팩토링

---

## 연간 통계 요약

| 항목 | 수치 |
|------|------|
| **기간** | 2024.01 ~ 2024.12 (12개월) |
| **총 커밋** | 486개 (서버+프론트 463 + 플러터 1 + helm 인프라 9 + DB 스키마 13) |
| **총 이슈** | 529개 |
| **월 평균 커밋** | 41개 |
| **월 평균 이슈** | 44개 |

### 월별 추이

| 월 | 커밋 | 이슈 | 주요 작업 |
|:--:|:----:|:----:|----------|
| 1월 | 31 | 42 | 공적처방전달 안정화, 병원 찾기 개편 |
| 2월 | 22 | 33 | 진료 중복 접수 방어, EMR 연동 테이블 |
| 3월 | 41 | 35 | **태블릿 접수 전면 개편**, 진료 신청서 리팩토링 |
| 4월 | 64 | 80+ | **진료 테이블 v2 마이그레이션**, 함께 진료 안정화 |
| 5월 | 62 | 37 | 결제 시스템 안정화, 함께 진료 안정화, 왕진 Helm Chart |
| 6월 | 52 | 40 | **병원 구독 서비스**, 홈페이지 레이아웃 시스템, Asset 인프라 |
| 7월 | 52 | 50 | 피드 시스템 마이그레이션, 환자앱 UX 개선, Flutter 하단 탭 변경 |
| 8월 | 20 | 61 | **직원관리(CRM) 시스템**, 진료예약 로직 개편 |
| 9월 | 14 | 37 | 병원 진료시간표 리팩토링, 부서 관리 |
| 10월 | 53 | 40 | **예약 시스템 전방위 개선**, 알림 시스템 |
| 11월 | 29 | 42 | **MSA 분리**, **가예약 구축**, 모비닥 컨텐츠 |
| 12월 | 46 | 32 | 가예약 안정화, 환자 앱 버그 수정, 결제 MSA Helm Chart |

---

## 주요 프로젝트

### 🏗️ 아키텍처 개선

#### 진료 테이블 v2 마이그레이션 (4월)

기존 진료 관련 테이블을 새로운 구조로 전면 전환하는 대규모 마이그레이션을 수행했습니다.

- **데이터 구조 개선**: 진료 흐름에 맞는 테이블 재설계
- **연관 기능 동시 전환**: 함께 진료, 진료 카드, 상태 관리 등
- **안정화 집중**: 4월 최다 이슈(80개+) 처리로 안정성 확보

**성과**: 진료 데이터 무결성 강화, 확장성 확보, 쿼리 성능 개선

#### 결제 서비스 MSA 분리 (11월)

모놀리식 아키텍처에서 결제 서비스를 독립적인 마이크로서비스로 분리했습니다.

- **서비스 분리**: 결제 로직을 별도 서비스로 독립
- **API 게이트웨이**: 서비스 간 통신 체계 구축
- **장애 격리**: 결제 장애가 전체 서비스에 영향 없도록 설계

#### Helm Chart 인프라 관리 (5월, 6월, 12월)

Kubernetes Helm Chart를 통해 서비스 배포 인프라를 관리했습니다. (총 9개 커밋)

- **왕진(House Call) 서비스 Helm Chart 구축** (5월): Helm Chart 초기 구성 및 설정 (3개 커밋)
- **Asset 서비스 인프라 구성** (6월): asset.mobidoc.us Nginx 라우팅 설정 (5개 커밋)
- **결제 서비스 MSA Helm Chart** (12월): payment-server Helm Chart 신규 구성 (1개 커밋)

#### DB 스키마 관리 - mobidoc-database (1~10월)

DB 스키마 DDL을 체계적으로 관리하는 별도 저장소(mobidoc-database)를 운영하며, 총 13개 커밋을 수행했습니다.

- **스키마 업데이트** (7개): 릴리즈별 DB 스키마 동기화 (1월, 2월×2, 3월, 5월, 8월, 10월)
- **DB 최적화** (1개): OPTIMIZE 수행 (2월)
- **미사용 테이블 정리** (5개): NOT USED TABLE RENAME, del 키워드 정리, 약국 테이블 정리 (3월×1, 7월×3, 3월×1)

| 분기 | 커밋 수 | 주요 작업 |
|------|---------|----------|
| Q1 | 7 | 스키마 업데이트, DB OPTIMIZE, 미사용 테이블 정리 |
| Q2 | 1 | 스키마 업데이트 |
| Q3 | 4 | 미사용 테이블 RENAME 3건, 스키마 업데이트 |
| Q4 | 1 | 스키마 업데이트 |

---

### 🚀 신규 기능 개발

#### 직원관리(CRM) 시스템 (8월)

병원 직원 계정을 체계적으로 관리할 수 있는 시스템을 구축했습니다.

- 직원 계정 생성/수정/삭제 기능
- 권한 기반 접근 제어
- 부서 관리 기능 연동 (9월)

#### 가예약 시스템 (11월)

병원이 환자 예약을 더 유연하게 관리할 수 있는 가예약 시스템을 구축했습니다.

- 가예약 생성 및 확정 프로세스
- 환자 앱 연동 알림
- 12월 집중 안정화 작업

#### 모비닥 컨텐츠 시스템 (11월)

건강 정보 콘텐츠 플랫폼의 기반을 마련했습니다.

- 콘텐츠 관리 체계 구축
- 사용자 맞춤 정보 제공 기반

#### 병원 구독 서비스 (6월)

병원을 위한 신규 비즈니스 모델인 구독 서비스를 구축했습니다.

- 구독 플랜 관리
- 결제 연동
- 구독 혜택 시스템

#### Spring Rest Docs & Swagger UI (8월)

API 문서 자동화 체계를 도입했습니다.

- 테스트 코드 기반 문서 생성
- Swagger UI 통합
- 개발자 경험 향상

---

### 🔧 시스템 안정화

#### 결제 시스템 안정화 (5월)

청구서 발송 알림, 환불 로직 등 결제 관련 기능을 안정화했습니다.

- 청구서 발송 알림 체계 개선
- 환불 프로세스 안정화
- 결제 실패 케이스 처리 강화

#### 함께 진료 안정화 (4~5월)

가족이 함께 진료받는 기능의 버그를 집중 수정했습니다.

- 다중 환자 동시 진료 처리
- 결제 분리/통합 로직 안정화
- 진료 상태 동기화 개선

#### 병원 진료시간표 리팩토링 (9월)

의사 스케줄 SUM 로직을 개선하여 진료시간표 계산의 정확성을 높였습니다.

- 복잡한 시간표 계산 로직 단순화
- 예외 케이스 처리 강화
- 성능 최적화

#### 예약 시스템 전방위 개선 (10월)

BE/FE 협력으로 예약 시스템 전반을 개선했습니다.

- 예약 충돌 방지 로직 강화
- 예약 알림 시스템 개선
- 사용자 경험 개선

---

## 분기별 하이라이트

### Q1 (1~3월): 안정화와 기반 구축

- **공적처방전달 안정화**: 2023년 12월 출시 기능의 안정화
- **진료 중복 접수 방어**: 동시 접수 방지 로직 강화
- **태블릿 접수 전면 개편**: 현장 접수 UX 전면 재설계
- 진료 신청서 리팩토링으로 코드 품질 향상
- **DB 스키마 관리**: 스키마 업데이트 4건, DB OPTIMIZE, 미사용 테이블 정리 (7개 커밋)

### Q2 (4~6월): 대규모 마이그레이션

- **진료 테이블 v2 마이그레이션** (4월): 연간 최다 이슈(80개+) 처리
- **함께 진료 안정화** (4~5월): 가족 진료 기능 집중 개선
- **결제 시스템 안정화** (5월): 청구서/환불 로직 개선
- **병원 구독 서비스 구축** (6월): 신규 비즈니스 모델 런칭

### Q3 (7~9월): 시스템 고도화

- **피드 시스템 마이그레이션** (7월): 콘텐츠 시스템 현대화
- **직원관리(CRM) 시스템 구축** (8월): 병원 내부 관리 체계 완성
- **Spring Rest Docs & Swagger UI 도입** (8월): API 문서화 자동화
- **병원 진료시간표 리팩토링** (9월): 의사 스케줄 계산 로직 개선
- **DB 스키마 정리**: 미사용 테이블 RENAME 3건 + 스키마 업데이트 (4개 커밋)

### Q4 (10~12월): 아키텍처 혁신

- **예약 시스템 전방위 개선** (10월): BE/FE 협력 대규모 개선
- **결제 서비스 MSA 분리** (11월): 아키텍처 현대화의 첫걸음
- **가예약 시스템 구축** (11월): 유연한 예약 관리 시스템
- **가예약 안정화** (12월): 신규 기능 안정화 집중

---

## 기술적 성장

### 아키텍처 설계 경험

- **MSA 전환**: 모놀리식에서 마이크로서비스로의 점진적 전환 경험
- **대규모 마이그레이션**: 진료 테이블 v2 전환으로 데이터 마이그레이션 노하우 축적
- **시스템 통합**: 여러 하위 시스템(예약, 결제, 알림)의 유기적 연동 설계

### 안정성 향상

- **API 문서화**: Spring Rest Docs로 테스트 기반 문서 자동 생성
- **예약 충돌 방지**: 동시성 제어 로직 강화
- **가예약 시스템**: 유연한 예약 상태 관리 체계 구축

### API 문서화

- Spring Rest Docs & Swagger UI 도입으로 API 문서 품질 향상
- 테스트 코드와 문서의 동기화로 문서 신뢰성 확보
- 개발자 온보딩 시간 단축

---

## 주요 인사이트

### 배운 점

1. **대규모 마이그레이션은 충분한 버퍼 필요**: 4월 진료 테이블 v2 전환 시 80개+ 이슈 발생, 예상보다 2배의 안정화 기간 소요
2. **MSA 전환은 점진적으로**: 11월 결제 서비스 분리를 시작으로 단계적 전환 전략 수립
3. **API 문서화의 가치**: 8월 도입 후 팀 간 커뮤니케이션 비용 대폭 감소
4. **신규 기능은 안정화 기간 필수**: 가예약(11월) 출시 후 12월 한 달 집중 안정화

### 개선할 점

1. **프론트엔드 비중 감소**: 하반기(8~9월) 서버 중심 작업으로 FE 커밋 현저히 감소
2. **테스트 커버리지**: API 문서화는 도입했으나 단위 테스트 커버리지 확대 필요
3. **모니터링 체계**: MSA 전환에 따른 분산 시스템 모니터링 체계 강화 필요

---

## 월별 회고록 링크

| 월 | 제목 | 링크 |
|:--:|------|------|
| 1월 | 월간 회고록 (2024.01) | [바로가기](/Retrospective/2024-01-01-2024-01-31-monthly-retrospective.html) |
| 2월 | 월간 회고록 (2024.02) | [바로가기](/Retrospective/2024-02-01-2024-02-29-monthly-retrospective.html) |
| 3월 | 월간 회고록 (2024.03) | [바로가기](/Retrospective/2024-03-01-2024-03-31-monthly-retrospective.html) |
| 4월 | 월간 회고록 (2024.04) | [바로가기](/Retrospective/2024-04-01-2024-04-30-monthly-retrospective.html) |
| 5월 | 월간 회고록 (2024.05) | [바로가기](/Retrospective/2024-05-01-2024-05-31-monthly-retrospective.html) |
| 6월 | 월간 회고록 (2024.06) | [바로가기](/Retrospective/2024-06-01-2024-06-30-monthly-retrospective.html) |
| 7월 | 월간 회고록 (2024.07) | [바로가기](/Retrospective/2024-07-01-2024-07-31-monthly-retrospective.html) |
| 8월 | 월간 회고록 (2024.08) | [바로가기](/Retrospective/2024-08-01-2024-08-31-monthly-retrospective.html) |
| 9월 | 월간 회고록 (2024.09) | [바로가기](/Retrospective/2024-09-01-2024-09-30-monthly-retrospective.html) |
| 10월 | 월간 회고록 (2024.10) | [바로가기](/Retrospective/2024-10-01-2024-10-31-monthly-retrospective.html) |
| 11월 | 월간 회고록 (2024.11) | [바로가기](/Retrospective/2024-11-01-2024-11-30-monthly-retrospective.html) |
| 12월 | 월간 회고록 (2024.12) | [바로가기](/Retrospective/2024-12-01-2024-12-31-monthly-retrospective.html) |

---

## 마무리

2024년은 플라잉닥터 서비스가 **현대적인 아키텍처로 진화**한 해였습니다. 진료 테이블 v2 마이그레이션, 결제 서비스 MSA 분리, 가예약 시스템 구축 등 핵심 인프라를 혁신하고, Helm Chart 기반 인프라 관리(9개 커밋), DB 스키마 관리(13개 커밋), API 문서화와 직원관리 시스템으로 개발 생산성과 운영 효율성을 높였습니다.

2025년에는 이 기반 위에서 MSA 확대, 모니터링 체계 강화, 테스트 커버리지 확대 등 더 견고한 플랫폼으로 성장할 것입니다.
